{"version":3,"sources":["webpack:///./src/views/SysEmailEdit.vue","webpack:///./src/api/System.js","webpack:///./src/views/SysEmailEdit.vue?eca7"],"names":["model","form","label-position","rules","formRule","ref","style","label","prop","username","password","type","placeholder","show-password","span","smtpHost","smtpPort","onSubmit","base","getEmailSetting","axios","get","updateEmailSetting","request","post","data","this","requiredInputValidRule","message","trigger","min","max","mounted","fetchSysMail","methods","required","then","resp","$refs","formRef","validate","valid","errCode","$message","success","error","__exports__","render"],"mappings":"wKAsBoE,O,+BASW,M,gaA9B3E,yBAmCe,Q,8BAlCX,iBAiCU,CAjCV,yBAiCU,Q,8BAhCN,iBA+BU,CA/BV,yBA+BU,Q,8BA9BN,iBA6BU,CA7BV,yBA6BU,GA7BAA,MAAO,EAAAC,KAAMC,iBAAe,MAAOC,MAAO,EAAAC,SAAUC,IAAI,UAAUC,MAAA,uB,+BACxE,iBAEe,CAFf,yBAEe,GAFDC,MAAM,OAAQC,KAAK,Y,+BAC7B,iBAA6C,CAA7C,yBAA6C,G,WAA1B,EAAAP,KAAKQ,S,qDAAL,EAAAR,KAAKQ,SAAQ,K,iCAGpC,yBAOe,GAPDF,MAAM,OAAOC,KAAK,Y,+BAC5B,iBAKE,CALF,yBAKE,G,WAJW,EAAAP,KAAKS,S,qDAAL,EAAAT,KAAKS,SAAQ,IACtBC,KAAK,WACLC,YAAY,QACZC,gBAAA,I,iCAIR,yBAUe,GAVDN,MAAM,OAAOC,KAAK,Y,+BAC5B,iBAES,CAFT,yBAES,GAFAM,KAAM,IAAE,C,8BACb,iBAA2D,CAA3D,yBAA2D,G,WAAxC,EAAAb,KAAKc,S,qDAAL,EAAAd,KAAKc,SAAQ,IAAEH,YAAY,a,iCAElD,yBAES,GAFAE,KAAM,EAAGR,MAAA,yB,+BAA0B,iBAE5C,C,YACA,yBAES,GAFAQ,KAAM,GAAC,C,8BACZ,iBAA4D,CAA5D,yBAA4D,G,WAAzC,EAAAb,KAAKe,S,qDAAL,EAAAf,KAAKe,SAAQ,IAAEJ,YAAY,a,2CAItD,yBAEe,GAFDN,MAAA,uBAAuB,C,8BACjC,iBAAqE,CAArE,yBAAqE,GAA1DK,KAAK,UAAW,QAAK,+BAAE,EAAAM,SAAQ,c,+BAAa,iBAAE,C,0HC7B3EC,EAAO,qBAEAC,EAAkB,WAC3B,OAAOC,OAAMC,IAAIH,EAAK,eAGbI,EAAqB,SAACC,GAC/B,OAAOH,OAAMI,KAAKN,EAAK,aAAcK,IDiC1B,GACXE,KADW,WAEP,MAAO,CACHxB,KAAM,CACFc,SAAU,KACVC,SAAU,KACVP,SAAU,KACVC,SAAU,MAEdN,SAAU,CACNK,SAAU,CAACiB,KAAKC,uBAAuB,WAAY,CAAEhB,KAAM,QAASiB,QAAS,UAAWC,QAAS,SACjGnB,SAAU,CAACgB,KAAKC,uBAAuB,YACvCZ,SAAU,CAACW,KAAKC,uBAAuB,gBACvCX,SAAU,CAACU,KAAKC,uBAAuB,eAAgB,CAAEG,IAAK,EAAGC,IAAK,MAAOH,QAAS,iBAAkBC,QAAS,YAK7HG,QAlBW,WAmBPN,KAAKO,gBAGTC,QAAS,CACLP,uBADK,SACkBC,GACnB,MAAO,CACHO,UAAU,EACVP,QAASA,EACTC,QAAS,SAGXI,aARD,WAQgB,8KACE,IAAkBG,MAAK,SAAAC,GAAG,OAAKA,EAAKZ,QADtC,OACXA,EADW,OAEdA,IACC,EAAKxB,KAAOwB,GAHC,8CAOrBR,SAfK,WAeM,WACPS,KAAKY,MAAMC,QAAQC,UAAS,SAACC,GACzB,OAAIA,GACA,EAAmB,EAAKxC,MAAMmC,MAAK,SAAAC,GAC1BA,EAAKK,SACN,EAAKC,SAASC,QAAQ,YAGvB,IAEP,EAAKD,SAASE,MAAM,eACb,S,qBErF3B,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0cc811.feb081c8.js","sourcesContent":["<template>\n    <el-container>\n        <el-main>\n            <el-card>\n                <el-form :model=\"form\" label-position=\"top\" :rules=\"formRule\" ref=\"formRef\" style=\"max-width: 900px\">\n                    <el-form-item label=\"邮箱账号\"  prop=\"username\">\n                        <el-input v-model=\"form.username\"></el-input>\n                    </el-form-item>\n\n                    <el-form-item label=\"邮箱密码\" prop=\"password\">\n                        <el-input\n                            v-model=\"form.password\"\n                            type=\"password\"\n                            placeholder=\"请输入密码\"\n                            show-password\n                        />\n                    </el-form-item>\n                    \n                    <el-form-item label=\"SMTP\" prop=\"smtpHost\">\n                        <el-col :span=\"12\">\n                            <el-input v-model=\"form.smtpHost\" placeholder=\"SMTP Host\"/>\n                        </el-col>\n                        <el-col :span=\"1\" style=\"text-align:center\">\n                            :\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-input v-model=\"form.smtpPort\" placeholder=\"SMTP Port\" />\n                        </el-col>                                                                                                                                                                                                    \n                    </el-form-item>\n\n                    <el-form-item style=\"margin-top:38px\">\n                        <el-button type=\"primary\" @click=\"onSubmit('formRef')\">保存</el-button>\n                    </el-form-item>\n                </el-form>\n            </el-card>\n        </el-main>\n    </el-container>\n</template>\n\n<script>\nimport { getEmailSetting, updateEmailSetting } from \"../api/System\"\n\nexport default {\n    data() {\n        return {\n            form: {\n                smtpHost: null,\n                smtpPort: null,\n                username: null,\n                password: null\n            },\n            formRule: {\n                username: [this.requiredInputValidRule('请输入邮箱账号'), { type: 'email', message: '邮箱格式不正确', trigger: 'blur' }],\n                password: [this.requiredInputValidRule('请输入邮箱密码')],\n                smtpHost: [this.requiredInputValidRule('请输入 SMTP 地址')],\n                smtpPort: [this.requiredInputValidRule('请输入 SMTP 端口'), { min: 1, max: 65535, message: '端口有效值为 1~65535', trigger: 'blur' }],\n            }\n        }\n    },\n\n    mounted() {\n        this.fetchSysMail()\n    },\n\n    methods: {\n        requiredInputValidRule(message) {\n            return {\n                required: true,\n                message: message,\n                trigger: 'blur',\n            }\n        },\n        async fetchSysMail() {\n            const data = await getEmailSetting().then(resp => resp.data)\n            if(data) {\n                this.form = data\n            }\n        },\n\n        onSubmit() {\n            this.$refs.formRef.validate((valid) => {\n                if (valid) {\n                    updateEmailSetting(this.form).then(resp => {\n                        if (!resp.errCode) {\n                            this.$message.success('更新成功')\n                        }\n                    })\n                    return true\n                } else {\n                    this.$message.error('请完善表单相关信息！')\n                    return false\n                }\n            })\n            \n        }\n    }\n}\n\n</script>","import axios from '@/utils/fetch';\n\nconst base = '/api/v1.0/settings'\n\nexport const getEmailSetting = () => {\n    return axios.get(base+\"/sys_email\")\n}\n\nexport const updateEmailSetting = (request) => {\n    return axios.post(base+\"/sys_email\", request);\n}","import { render } from \"./SysEmailEdit.vue?vue&type=template&id=7224a845\"\nimport script from \"./SysEmailEdit.vue?vue&type=script&lang=js\"\nexport * from \"./SysEmailEdit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/vrtia/workspace/vran/databasir-frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}