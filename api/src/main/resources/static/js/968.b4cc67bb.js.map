{"version":3,"file":"js/968.b4cc67bb.js","mappings":"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","sources":["webpack://databasir/./src/views/SysEmailEdit.vue","webpack://databasir/./src/api/System.js","webpack://databasir/./src/views/SysEmailEdit.vue?6c44"],"sourcesContent":["<template>\n    <el-container>\n        <el-main>\n            <el-card shadow=\"hover\" style=\"max-width: 600px\">\n                <el-divider>\n                    <el-icon><box /></el-icon> 系统邮箱设置\n                </el-divider>\n                <el-form :model=\"form\" label-position=\"top\" :rules=\"formRule\" ref=\"formRef\" style=\"max-width: 900px\">\n                    <el-form-item label=\"SMTP 用户名\"  prop=\"username\">\n                        <el-input v-model=\"form.username\" placeholder=\"请输入 SMTP 服务用户名\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"SMTP 密码\" prop=\"password\">\n                        <el-input\n                            v-model=\"form.password\"\n                            type=\"password\"\n                            placeholder=\"请输入密码\"\n                            show-password\n                        />\n                    </el-form-item>\n                    <el-form-item label=\"发送邮箱\"  prop=\"mailFrom\">\n                        <el-input v-model=\"form.mailFrom\" placeholder=\"请输入邮箱账号\"></el-input>\n                    </el-form-item>\n                    \n                    <el-form-item label=\"SMTP\" prop=\"smtpHost\">\n                        <el-col :span=\"12\">\n                            <el-input v-model=\"form.smtpHost\" placeholder=\"SMTP Host\"/>\n                        </el-col>\n                        <el-col :span=\"1\" style=\"text-align:center\">\n                            :\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-input v-model=\"form.smtpPort\" placeholder=\"SMTP Port\" />\n                        </el-col>                                                                                                                                                                                                    \n                    </el-form-item>\n                    <el-form-item  label=\"启用 SSL\" prop=\"useSSL\">\n                        <el-switch\n                            v-model=\"form.useSSL\"\n                        />\n                    </el-form-item>\n\n                    <el-form-item style=\"margin-top:38px\">\n                        <el-button type=\"primary\" @click=\"onSubmit('formRef')\">保存</el-button>\n                        <el-button type=\"danger\" @click=\"onReset()\">重置</el-button>\n                    </el-form-item>\n                </el-form>\n            </el-card>\n        </el-main>\n    </el-container>\n</template>\n\n<script>\nimport { getEmailSetting, updateEmailSetting, deleteEmailSetting } from \"../api/System\"\n\nexport default {\n    data() {\n        return {\n            form: {\n                smtpHost: null,\n                smtpPort: null,\n                username: null,\n                mailFrom: null,\n                password: null,\n                useSSL: false,\n            },\n            formRule: {\n                username: [this.requiredInputValidRule('请输入 SMTP 服务用户名')],\n                password: [this.requiredInputValidRule('请输入 SMTP 服务密码')],\n                smtpHost: [this.requiredInputValidRule('请输入 SMTP 地址')],\n                smtpPort: [this.requiredInputValidRule('请输入 SMTP 端口'), { min: 1, max: 65535, message: '端口有效值为 1~65535', trigger: 'blur' }],\n            }\n        }\n    },\n\n    mounted() {\n        this.fetchSysMail()\n    },\n\n    methods: {\n        requiredInputValidRule(message) {\n            return {\n                required: true,\n                message: message,\n                trigger: 'blur',\n            }\n        },\n        async fetchSysMail() {\n            const data = await getEmailSetting().then(resp => resp.data)\n            if(data) {\n                this.form = data\n            }\n        },\n\n        onSubmit() {\n            this.$refs.formRef.validate((valid) => {\n                if (valid) {\n                    updateEmailSetting(this.form).then(resp => {\n                        if (!resp.errCode) {\n                            this.$message.success('更新成功')\n                        }\n                    })\n                    return true\n                } else {\n                    this.$message.error('请完善表单相关信息！')\n                    return false\n                }\n            })\n            \n        },\n        onReset() {\n            this.$confirm('确认重置系统邮件吗？删除后数据将无法恢复', '警告', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(() => {\n                deleteEmailSetting().then(resp => {\n                    if (!resp.errCode) {\n                        this.form = {}\n                        this.$message.success('重置成功')\n                    }\n                })\n            })\n        }\n    }\n}\n\n</script>","import axios from '@/utils/fetch';\n\nconst base = '/api/v1.0/settings'\n\nexport const getEmailSetting = () => {\n    return axios.get(base+\"/sys_email\")\n}\n\nexport const updateEmailSetting = (request) => {\n    return axios.post(base+\"/sys_email\", request);\n}\n\nexport const deleteEmailSetting = () => {\n    return axios.delete(base+\"/sys_email\");\n}","import { render } from \"./SysEmailEdit.vue?vue&type=template&id=4a997566\"\nimport script from \"./SysEmailEdit.vue?vue&type=script&lang=js\"\nexport * from \"./SysEmailEdit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/vrtia/workspace/vran/databasir/databasir-frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_el_container","_createVNode","_component_el_main","_component_el_card","shadow","style","_component_el_divider","_component_el_icon","_component_box","_component_el_form","model","$data","rules","ref","_component_el_form_item","label","prop","_component_el_input","username","$event","placeholder","password","type","mailFrom","_component_el_col","span","smtpHost","smtpPort","_component_el_switch","useSSL","_component_el_button","onClick","$options","base","getEmailSetting","axios","updateEmailSetting","request","deleteEmailSetting","data","form","formRule","this","requiredInputValidRule","min","max","message","trigger","mounted","fetchSysMail","methods","required","async","then","resp","onSubmit","$refs","formRef","validate","valid","errCode","$message","success","error","onReset","$confirm","confirmButtonText","cancelButtonText","__exports__","render"],"sourceRoot":""}