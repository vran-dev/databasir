{"version":3,"file":"js/227-legacy.3a88e17c.js","mappings":"2KAAO,IAEMA,EAAgC,+BAIhCC,EAAqB,CAC9B,CACEC,OAAQ,GACRC,SAAU,CACRC,aAAc,eACdC,kBAAmB,gHACnBC,KAAMC,EAAQ,OACdC,YAAa,eACbC,oBAAqB,2BACrBC,aAAc,aACdC,WAAY,6CACZC,eAAe,IAGnB,CACEV,OAAQ,GACRC,SAAU,CACRC,aAAc,eACdC,kBAAmB,gHACnBC,KAAMC,EAAQ,OACdC,YAAa,eACbC,oBAAqB,wBACrBC,aAAc,aACdC,WAAY,6CACZC,eAAe,IAGnB,CACEV,OAAQ,GACRC,SAAU,CACRC,aAAc,oBACdC,kBAAmB,qGACnBC,KAAMC,EAAQ,OACdC,YAAa,iCACbC,oBAAqB,wBACrBC,aAAc,kBACdC,WAAY,6CACZC,eAAe,IAGnB,CACEV,OAAQ,GACRC,SAAU,CACRC,aAAc,gBACdC,kBAAmB,uHACnBC,KAAMC,EAAQ,OACdC,YAAa,gBACbC,oBAAqB,0BACrBC,aAAc,eACdC,WAAY,6CACZC,eAAe,IAGnB,CACEV,OAAQ,GACRC,SAAU,CACRC,aAAc,uBACdC,kBAAmB,2GACnBC,KAAMC,EAAQ,OACdC,YAAa,uBACbC,oBAAqB,2BACrBC,aAAc,mBACdC,WAAY,4CACZC,eAAe,IAGnB,CACEV,OAAQ,GACRC,SAAU,CACRC,aAAc,uBACdC,kBAAmB,sHACnBC,KAAMC,EAAQ,OACdC,YAAa,uBACbC,oBAAqB,+CACrBC,aAAc,iBACdC,WAAY,0DACZC,eAAe,M,4FChFjBC,EAAO,YAEAC,EAAiB,WAC1B,OAAOC,EAAAA,EAAAA,IAAUF,EAAO,kCAGfG,EAAmB,SAACC,GAC7B,OAAOF,EAAAA,EAAAA,MAAYF,EAAO,gCAAiCI,K,gGCKnDC,EAAAA,EAAAA,GAA4B,OAAvBC,MAAM,MAAK,UAAM,G,2CActBD,EAAAA,EAAAA,GAA6B,OAAxBC,MAAM,MAAK,WAAO,G,2CAevBD,EAAAA,EAAAA,GAA6B,OAAxBC,MAAM,MAAK,WAAO,G,2CAevBD,EAAAA,EAAAA,GAAkC,OAA7BC,MAAM,MAAK,gBAAY,G,2CAe5BD,EAAAA,EAAAA,GAA6B,OAAxBC,MAAM,MAAK,WAAO,G,iOAxE/BC,EAAAA,EAAAA,IAUSC,EAAA,M,kBATL,iBAQS,EARTD,EAAAA,EAAAA,IAQSE,EAAA,M,kBAPL,iBAME,EANFF,EAAAA,EAAAA,IAMEG,EAAA,C,WALWC,EAAAA,e,qDAAAA,EAAAA,eAAcC,IACvBC,KAAK,QACL,cAAY,SACZ,gBAAc,SACbC,SAAQC,EAAAA,wBALb,sC,iBASRR,EAAAA,EAAAA,IAaSC,EAAA,M,kBAZL,iBAES,EAFTD,EAAAA,EAAAA,IAESE,EAAA,M,kBADL,iBAA4B,CAA5BO,M,OAEJT,EAAAA,EAAAA,IAQSE,EAAA,M,kBAPL,iBAMW,EANXF,EAAAA,EAAAA,IAMWU,EAAA,CANDC,OAAA,GAAQC,KAAMR,EAAAA,WAAWS,OAAQ,4BAA3C,C,kBACuC,iBAAiD,gBAApFC,EAAAA,EAAAA,IAIkBC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJgCZ,EAAAA,SAASa,0BAAwB,SAAzCC,G,kBAA1CC,EAAAA,EAAAA,IAIkBC,EAAA,CAJAC,MAAOH,EAAKI,IAAwDA,IAAKJ,EAAKI,IAAMC,KAAML,EAAKI,KAAjH,CACeE,QAAM,SACb,iBAA2G,WAA3G1B,EAAAA,EAAAA,GAA2G,S,yCAA3FoB,EAAKO,MAAKpB,GAAGqB,YAAaR,EAAKS,aAAepB,SAAM,+BAAEC,EAAAA,wBAAuBT,MAAM,QAAnG,kBAAgBmB,EAAKO,a,KAF7B,oC,KADJ,gB,iBASRzB,EAAAA,EAAAA,IAaSC,EAAA,M,kBAZL,iBAES,EAFTD,EAAAA,EAAAA,IAESE,EAAA,M,kBADL,iBAA6B,CAA7B0B,M,OAEJ5B,EAAAA,EAAAA,IAQSE,EAAA,M,kBAPL,iBAMW,EANXF,EAAAA,EAAAA,IAMWU,EAAA,CANDC,OAAA,GAAQC,KAAMR,EAAAA,WAAWyB,QAAS,4BAA5C,C,kBACuC,iBAAkD,gBAArFf,EAAAA,EAAAA,IAIkBC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJgCZ,EAAAA,SAAS0B,2BAAyB,SAA1CZ,G,kBAA1CC,EAAAA,EAAAA,IAIkBC,EAAA,CAJAC,MAAOH,EAAKI,IAAyDA,IAAKJ,EAAKI,IAAMC,KAAML,EAAKI,KAAlH,CACeE,QAAM,SACb,iBAA4G,WAA5G1B,EAAAA,EAAAA,GAA4G,S,yCAA5FoB,EAAKO,MAAKpB,GAAGqB,YAAaR,EAAKS,aAAepB,SAAM,+BAAEC,EAAAA,yBAAwBT,MAAM,QAApG,kBAAgBmB,EAAKO,a,KAF7B,oC,KADJ,gB,iBAURzB,EAAAA,EAAAA,IAaSC,EAAA,M,kBAZL,iBAES,EAFTD,EAAAA,EAAAA,IAESE,EAAA,M,kBADL,iBAA6B,CAA7B6B,M,OAEJ/B,EAAAA,EAAAA,IAQSE,EAAA,M,kBAPL,iBAMW,EANXF,EAAAA,EAAAA,IAMWU,EAAA,CANDC,OAAA,GAAQC,KAAMR,EAAAA,WAAW4B,SAAnC,C,kBACuC,iBAAiD,gBAApFlB,EAAAA,EAAAA,IAIkBC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJgCZ,EAAAA,SAAS6B,0BAAwB,SAAzCf,G,kBAA1CC,EAAAA,EAAAA,IAIkBC,EAAA,CAJAC,MAAOH,EAAKI,IAAwDA,IAAKJ,EAAKI,IAAMC,KAAML,EAAKI,KAAjH,CACeE,QAAM,SACb,iBAA2G,WAA3G1B,EAAAA,EAAAA,GAA2G,S,yCAA3FoB,EAAKO,MAAKpB,GAAGqB,YAAaR,EAAKS,aAAepB,SAAM,+BAAEC,EAAAA,wBAAuBT,MAAM,QAAnG,kBAAgBmB,EAAKO,a,KAF7B,oC,KADJ,gB,iBAURzB,EAAAA,EAAAA,IAaSC,EAAA,M,kBAZL,iBAES,EAFTD,EAAAA,EAAAA,IAESE,EAAA,M,kBADL,iBAAkC,CAAlCgC,M,OAEJlC,EAAAA,EAAAA,IAQSE,EAAA,M,kBAPL,iBAMW,EANXF,EAAAA,EAAAA,IAMWU,EAAA,CANDC,OAAA,GAAQC,KAAMR,EAAAA,WAAW+B,aAAnC,C,kBACuC,iBAAsD,gBAAzFrB,EAAAA,EAAAA,IAIkBC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJgCZ,EAAAA,SAASgC,+BAA6B,SAA9ClB,G,kBAA1CC,EAAAA,EAAAA,IAIkBC,EAAA,CAJAC,MAAOH,EAAKI,IAA6DA,IAAKJ,EAAKI,IAAMC,KAAML,EAAKI,KAAtH,CACeE,QAAM,SACb,iBAAgH,WAAhH1B,EAAAA,EAAAA,GAAgH,S,yCAAhGoB,EAAKO,MAAKpB,GAAGqB,YAAaR,EAAKS,aAAepB,SAAM,+BAAEC,EAAAA,6BAA4BT,MAAM,QAAxG,kBAAgBmB,EAAKO,a,KAF7B,oC,KADJ,gB,iBAURzB,EAAAA,EAAAA,IAaSC,EAAA,M,kBAZL,iBAES,EAFTD,EAAAA,EAAAA,IAESE,EAAA,M,kBADL,iBAA6B,CAA7BmC,M,OAEJrC,EAAAA,EAAAA,IAQSE,EAAA,M,kBAPL,iBAMW,EANXF,EAAAA,EAAAA,IAMWU,EAAA,CANDC,OAAA,GAAQC,KAAMR,EAAAA,WAAWkC,UAAnC,C,kBACuC,iBAAmD,gBAAtFxB,EAAAA,EAAAA,IAIkBC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJgCZ,EAAAA,SAASmC,4BAA0B,SAA3CrB,G,kBAA1CC,EAAAA,EAAAA,IAIkBC,EAAA,CAJAC,MAAOH,EAAKI,IAA0DA,IAAKJ,EAAKI,IAAMC,KAAML,EAAKI,KAAnH,CACeE,QAAM,SACb,iBAA6G,WAA7G1B,EAAAA,EAAAA,GAA6G,S,yCAA7FoB,EAAKO,MAAKpB,GAAGqB,YAAaR,EAAKS,aAAepB,SAAM,+BAAEC,EAAAA,0BAAyBT,MAAM,QAArG,kBAAgBmB,EAAKO,a,KAF7B,oC,KADJ,gB,iBALR,I,0BAkCJ,GACIb,KADW,WAEP,MAAO,CACH7B,SAAU,CACNkC,yBAAyB,GACzBa,0BAA0B,GAC1BM,8BAA8B,GAC9BH,yBAAyB,GACzBM,2BAA2B,IAG/BC,WAAY,CACR3B,OAAQ,GACRgB,QAAS,GACTG,QAAS,GACTG,YAAa,GACbG,SAAU,IAEdG,gBAAgB,EAEhBC,WAAY,CACR/B,OAAQ,UAIpBgC,MAAO,GAGPC,QA5BW,WA6BPC,KAAKC,mCAETC,QAAS,CACLD,gCADK,WAC6B,YAC9BpD,EAAAA,EAAAA,KAAiBsD,MAAK,SAAAC,GACdA,EAAKC,UACL,EAAKnE,SAAWkE,EAAKrC,UAIjCuC,mBARK,WASDC,eAAeC,WAAWzE,EAAAA,KAE9B0E,oBAXK,WAWiB,WACZzD,EAAO,CACT0D,KAAM,mBACNC,WAAYX,KAAK9D,SAASkC,2BAE9BrB,EAAAA,EAAAA,GAAiBC,GAAMmD,MAAK,SAAAC,GACnBA,EAAKC,UACN,EAAKO,SAASC,QAAQ,QACtB,EAAKP,0BAIjBQ,qBAvBK,WAuBkB,WACb9D,EAAO,CACT0D,KAAM,oBACNC,WAAYX,KAAK9D,SAAS+C,4BAE9BlC,EAAAA,EAAAA,GAAiBC,GAAMmD,MAAK,SAAAC,GACnBA,EAAKC,UACN,EAAKO,SAASC,QAAQ,QACtB,EAAKP,0BAIjBS,oBAnCK,WAmCiB,WACZ/D,EAAO,CACT0D,KAAM,mBACNC,WAAYX,KAAK9D,SAASkD,2BAE9BrC,EAAAA,EAAAA,GAAiBC,GAAMmD,MAAK,SAAAC,GACnBA,EAAKC,UACN,EAAKO,SAASC,QAAQ,QACtB,EAAKP,0BAIjBU,sBA/CK,WA+CmB,WACdhE,EAAO,CACT0D,KAAM,qBACNC,WAAYX,KAAK9D,SAASwD,6BAE9B3C,EAAAA,EAAAA,GAAiBC,GAAMmD,MAAK,SAAAC,GACnBA,EAAKC,UACN,EAAKO,SAASC,QAAQ,QACtB,EAAKP,0BAIjBW,yBA3DK,WA2DsB,WACjBjE,EAAO,CACT0D,KAAM,yBACNC,WAAYX,KAAK9D,SAASqD,gCAE9BxC,EAAAA,EAAAA,GAAiBC,GAAMmD,MAAK,SAAAC,GACnBA,EAAKC,UACN,EAAKO,SAASC,QAAQ,QACtB,EAAKP,0BAIjBY,uBAvEK,SAuEkBC,GACnB,GAAIA,EAAQ,CACRnB,KAAKL,WAAW3B,OAAS,CAAC,CAACoD,KAAK,OAAQV,KAAM,QAASW,QAAS,OAAQ9E,YAAY,kBAAkB,CAAC6E,KAAK,OAAQV,KAAM,QAASW,QAAS,OAAQ9E,YAAY,mBAChK,IAAM+E,EAAiB,m9BACvBtB,KAAKL,WAAWX,QAAUuC,KAAKC,MAAMF,GACrC,IAAMG,EAAgB,qVACtBzB,KAAKL,WAAWR,QAAUoC,KAAKC,MAAMC,GACrC,IAAMC,EAAqB,0ZAC3B1B,KAAKL,WAAWL,YAAciC,KAAKC,MAAME,GACzC,IAAMC,EAAkB,yIACxB3B,KAAKL,WAAWF,SAAW8B,KAAKC,MAAMG,QAEtC3B,KAAKL,WAAW3B,OAAS,GACzBgC,KAAKL,WAAWX,QAAU,GAC1BgB,KAAKL,WAAWR,QAAU,GAC1Ba,KAAKL,WAAWL,YAAc,GAC9BU,KAAKP,SAAW,M,WCxNhC,MAAMmC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://databasir/./src/api/Const.js","webpack://databasir/./src/api/DocumentTemplate.js","webpack://databasir/./src/views/SysDocumentTemplateProperty.vue","webpack://databasir/./src/views/SysDocumentTemplateProperty.vue?fd37"],"sourcesContent":["export const databaseTypes = ['mysql', 'postgresql']\r\n\r\nexport const documentTemplatePropertiesKey = \"document_template_properties\"\r\n\r\nexport const appHost = process.env.VUE_APP_API_URL\r\n\r\nexport const innerDatabaseTypes = [\r\n    {\r\n      author: {},\r\n      template: {\r\n        databaseType: \"mysql-8.0.28\",\r\n        jdbcDriverFileUrl: \"https://maven.aliyun.com/repository/central/mysql/mysql-connector-java/8.0.28/mysql-connector-java-8.0.28.jar\",\r\n        icon: require('@/assets/database/MySQL.svg'),\r\n        description: \"mysql-8.0.28\",\r\n        jdbcDriverClassName: \"com.mysql.cj.jdbc.Driver\",\r\n        jdbcProtocol: \"jdbc:mysql\",\r\n        urlPattern: \"{{jdbc.protocol}}://{{db.url}}/{{db.name}}\",\r\n        isLocalUpload: false,\r\n      }\r\n    },\r\n    {\r\n      author: {},\r\n      template: {\r\n        databaseType: \"mysql-5.1.49\",\r\n        jdbcDriverFileUrl: \"https://maven.aliyun.com/repository/central/mysql/mysql-connector-java/5.1.49/mysql-connector-java-5.1.49.jar\",\r\n        icon: require('@/assets/database/MySQL.svg'),\r\n        description: \"mysql-5.1.49\",\r\n        jdbcDriverClassName: \"com.mysql.jdbc.Driver\",\r\n        jdbcProtocol: \"jdbc:mysql\",\r\n        urlPattern: \"{{jdbc.protocol}}://{{db.url}}/{{db.name}}\",\r\n        isLocalUpload: false,\r\n      }\r\n    },\r\n    {\r\n      author: {},\r\n      template: {\r\n        databaseType: \"postgresql-42.3.4\",\r\n        jdbcDriverFileUrl: \"https://maven.aliyun.com/repository/central/org/postgresql/postgresql/42.3.4/postgresql-42.3.4.jar\",\r\n        icon: require('@/assets/database/PostgreSQL.svg'),\r\n        description: \"postgresql jdbc version 42.3.4\",\r\n        jdbcDriverClassName: \"org.postgresql.Driver\",\r\n        jdbcProtocol: \"jdbc:postgresql\",\r\n        urlPattern: \"{{jdbc.protocol}}://{{db.url}}/{{db.name}}\",\r\n        isLocalUpload: false,\r\n      }\r\n    },\r\n    {\r\n      author: {},\r\n      template: {\r\n        databaseType: \"mariadb-3.0.3\",\r\n        jdbcDriverFileUrl: \"https://maven.aliyun.com/repository/central/org/mariadb/jdbc/mariadb-java-client/3.0.3/mariadb-java-client-3.0.3.jar\",\r\n        icon: require('@/assets/database/MariaDB.svg'),\r\n        description: \"mariadb-3.0.3\",\r\n        jdbcDriverClassName: \"org.mariadb.jdbc.Driver\",\r\n        jdbcProtocol: \"jdbc:mariadb\",\r\n        urlPattern: \"{{jdbc.protocol}}://{{db.url}}/{{db.name}}\",\r\n        isLocalUpload: false,\r\n      }\r\n    },\r\n    {\r\n      author: {},\r\n      template: {\r\n        databaseType: \"oracle-thin-12.2.0.1\",\r\n        jdbcDriverFileUrl: \"https://maven.aliyun.com/repository/central/com/oracle/database/jdbc/ojdbc8/12.2.0.1/ojdbc8-12.2.0.1.jar\",\r\n        icon: require('@/assets/database/Oracle.svg'),\r\n        description: \"oracle-thin-12.2.0.1\",\r\n        jdbcDriverClassName: \"oracle.jdbc.OracleDriver\",\r\n        jdbcProtocol: \"jdbc:oracle:thin\",\r\n        urlPattern: \"{{jdbc.protocol}}:@{{db.url}}:{{db.name}}\",\r\n        isLocalUpload: false,\r\n      }\r\n    },\r\n    {\r\n      author: {},\r\n      template: {\r\n        databaseType: \"sqlServer-9.4.1.jre8\",\r\n        jdbcDriverFileUrl: \"https://maven.aliyun.com/repository/central/com/microsoft/sqlserver/mssql-jdbc/9.4.1.jre8/mssql-jdbc-9.4.1.jre8.jar\",\r\n        icon: require('@/assets/database/Sqlserver.svg'),\r\n        description: \"sqlServer-9.4.1.jre8\",\r\n        jdbcDriverClassName: \"com.microsoft.sqlserver.jdbc.SQLServerDriver\",\r\n        jdbcProtocol: \"jdbc:sqlserver\",\r\n        urlPattern: \"{{jdbc.protocol}}://{{db.url}};databaseName={{db.name}}\",\r\n        isLocalUpload: false,\r\n      }\r\n    },\r\n    // {\r\n    //   author: {},\r\n    //   template: {\r\n    //     databaseType: \"hive\",\r\n    //     jdbcDriverFileUrl: \"https://maven.aliyun.com/repository/central/org/apache/hive/hive-jdbc/3.1.3/hive-jdbc-3.1.3-standalone.jar\",\r\n    //     icon: require('@/assets/database/Hive.svg'),\r\n    //     description: \"hive\",\r\n    //     jdbcDriverClassName: \"org.apache.hive.jdbc.HiveDriver\",\r\n    //     jdbcProtocol: \"jdbc:hive2\",\r\n    //     urlPattern: \"{{jdbc.protocol}}://{{db.url}}/{{db.name}}\",\r\n    //     isLocalUpload: false,\r\n    //   }\r\n    // }\r\n  ]","import axios from '@/utils/fetch';\r\n\r\nconst base = '/api/v1.0'\r\n\r\nexport const listProperties = () => {\r\n    return axios.get(base + '/document_template/properties')\r\n}\r\n\r\nexport const updateProperties = (body) => {\r\n    return axios.patch(base + '/document_template/properties', body)\r\n}\r\n","<template>\r\n    <el-row>\r\n        <el-col>\r\n            <el-switch\r\n                v-model=\"showSampleData\"\r\n                size=\"large\"\r\n                active-text=\"展示示例数据\"\r\n                inactive-text=\"隐藏示例数据\"\r\n                @change=\"onSwitchShowSampleData\"\r\n            />\r\n        </el-col>\r\n    </el-row>\r\n    <el-row>\r\n        <el-col>\r\n            <div class=\"h3\">Tables</div>\r\n        </el-col>\r\n        <el-col>\r\n            <el-table border :data=\"sampleData.tables\" highlight-current-row>\r\n                <el-table-column :label=\"item.key\" v-for=\"item in template.tableFieldNameProperties\" :key=\"item.key\" :prop=\"item.key\">\r\n                    <template #header>\r\n                        <input v-model=\"item.value\" :placeholder=\"item.defaultValue\" @change=\"saveTableProperties()\" class=\"cell\"/>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-col>\r\n    </el-row>\r\n    <el-row>\r\n        <el-col>\r\n            <div class=\"h3\">Columns</div>\r\n        </el-col>\r\n        <el-col>\r\n            <el-table border :data=\"sampleData.columns\" highlight-current-row>\r\n                <el-table-column :label=\"item.key\" v-for=\"item in template.columnFieldNameProperties\" :key=\"item.key\" :prop=\"item.key\">\r\n                    <template #header>\r\n                        <input v-model=\"item.value\" :placeholder=\"item.defaultValue\" @change=\"saveColumnProperties()\" class=\"cell\"/>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-col>\r\n    </el-row>\r\n\r\n    <el-row>\r\n        <el-col>\r\n            <div class=\"h3\">Indexes</div>\r\n        </el-col>\r\n        <el-col>\r\n            <el-table border :data=\"sampleData.indexes\">\r\n                <el-table-column :label=\"item.key\" v-for=\"item in template.indexFieldNameProperties\" :key=\"item.key\" :prop=\"item.key\">\r\n                    <template #header>\r\n                        <input v-model=\"item.value\" :placeholder=\"item.defaultValue\" @change=\"saveIndexProperties()\" class=\"cell\"/>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-col>\r\n    </el-row>\r\n\r\n    <el-row>\r\n        <el-col>\r\n            <div class=\"h3\">Foreign Keys</div>\r\n        </el-col>\r\n        <el-col>\r\n            <el-table border :data=\"sampleData.foreignKeys\">\r\n                <el-table-column :label=\"item.key\" v-for=\"item in template.foreignKeyFieldNameProperties\" :key=\"item.key\" :prop=\"item.key\">\r\n                    <template #header>\r\n                        <input v-model=\"item.value\" :placeholder=\"item.defaultValue\" @change=\"saveForeignKeyProperties()\" class=\"cell\"/>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-col>\r\n    </el-row>\r\n\r\n    <el-row>\r\n        <el-col>\r\n            <div class=\"h3\">Trigger</div>\r\n        </el-col>\r\n        <el-col>\r\n            <el-table border :data=\"sampleData.triggers\">\r\n                <el-table-column :label=\"item.key\" v-for=\"item in template.triggerFieldNameProperties\" :key=\"item.key\" :prop=\"item.key\">\r\n                    <template #header>\r\n                        <input v-model=\"item.value\" :placeholder=\"item.defaultValue\" @change=\"saveTriggerProperties()\" class=\"cell\"/>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-col>\r\n    </el-row>\r\n</template>\r\n<style>\r\n.el-row {\r\n    margin-bottom: 12px;\r\n}\r\n.cell {\r\n    border:none;\r\n    outline:none;\r\n    width: 100%;\r\n    padding: 3px;\r\n}\r\n\r\n.cell:focus {\r\n    background-color:#f4f4f5;\r\n}\r\n</style>\r\n<script>\r\nimport { listProperties, updateProperties } from '../api/DocumentTemplate'\r\nimport { documentTemplatePropertiesKey } from '../api/Const'\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            template: {\r\n                tableFieldNameProperties:[],\r\n                columnFieldNameProperties:[],\r\n                foreignKeyFieldNameProperties:[],\r\n                indexFieldNameProperties:[],\r\n                triggerFieldNameProperties:[]\r\n            },\r\n\r\n            sampleData: {\r\n                tables: [],\r\n                columns: [],\r\n                indexes: [],\r\n                foreignKeys: [],\r\n                triggers: []\r\n            },\r\n            showSampleData: false,\r\n\r\n            inputStyle: {\r\n                border: 'none'\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n\r\n    },\r\n    created() {\r\n        this.fetchDocumentTemplateProperties()\r\n    },\r\n    methods: {\r\n        fetchDocumentTemplateProperties() {\r\n            listProperties().then(resp => {\r\n                if(!resp.errCode) {\r\n                    this.template = resp.data\r\n                }\r\n            })\r\n        },\r\n        clearPropertyCache() {\r\n            sessionStorage.removeItem(documentTemplatePropertiesKey)\r\n        },\r\n        saveTableProperties() {\r\n            const body = {\r\n                type: \"TABLE_FIELD_NAME\",\r\n                properties: this.template.tableFieldNameProperties,\r\n            }\r\n            updateProperties(body).then(resp => {\r\n                if (!resp.errCode) {\r\n                    this.$message.success('保存成功')\r\n                    this.clearPropertyCache()\r\n                }\r\n            })\r\n        },\r\n        saveColumnProperties() {\r\n            const body = {\r\n                type: \"COLUMN_FIELD_NAME\",\r\n                properties: this.template.columnFieldNameProperties,\r\n            }\r\n            updateProperties(body).then(resp => {\r\n                if (!resp.errCode) {\r\n                    this.$message.success('保存成功')\r\n                    this.clearPropertyCache()\r\n                }\r\n            })\r\n        },\r\n        saveIndexProperties() {\r\n            const body = {\r\n                type: \"INDEX_FIELD_NAME\",\r\n                properties: this.template.indexFieldNameProperties,\r\n            }\r\n            updateProperties(body).then(resp => {\r\n                if (!resp.errCode) {\r\n                    this.$message.success('保存成功')\r\n                    this.clearPropertyCache()\r\n                }\r\n            })\r\n        },\r\n        saveTriggerProperties() {\r\n            const body = {\r\n                type: \"TRIGGER_FIELD_NAME\",\r\n                properties: this.template.triggerFieldNameProperties,\r\n            }\r\n            updateProperties(body).then(resp => {\r\n                if (!resp.errCode) {\r\n                    this.$message.success('保存成功')\r\n                    this.clearPropertyCache()\r\n                }\r\n            })\r\n        },\r\n        saveForeignKeyProperties() {\r\n            const body = {\r\n                type: \"FOREIGN_KEY_FIELD_NAME\",\r\n                properties: this.template.foreignKeyFieldNameProperties,\r\n            }\r\n            updateProperties(body).then(resp => {\r\n                if (!resp.errCode) {\r\n                    this.$message.success('保存成功')\r\n                    this.clearPropertyCache()\r\n                }\r\n            })\r\n        },\r\n        onSwitchShowSampleData(isShow) {\r\n            if (isShow) {\r\n                this.sampleData.tables = [{name:\"demo\", type: \"TABLE\", comment: \"demo\", description:\"this is a demo\"},{name:\"user\", type: \"TABLE\", comment: \"user\", description:\"this is a user\"}]\r\n                const columnJsonData = '[{\"id\":409,\"name\":\"id\",\"type\":\"INT\",\"size\":10,\"decimalDigits\":1,\"comment\":\"id comment\",\"description\":\"this is id\",\"isPrimaryKey\":true,\"nullable\":\"NO\",\"autoIncrement\":\"YES\",\"defaultValue\":\"1\",\"discussionCount\":null,\"createAt\":\"2022-04-10 13:45:06\"},{\"id\":410,\"name\":\"email\",\"type\":\"VARCHAR\",\"size\":512,\"decimalDigits\":null,\"comment\":\"\",\"description\":null,\"isPrimaryKey\":false,\"nullable\":\"NO\",\"autoIncrement\":\"NO\",\"defaultValue\":null,\"discussionCount\":null,\"createAt\":\"2022-04-10 13:45:06\"},{\"id\":411,\"name\":\"username\",\"type\":\"VARCHAR\",\"size\":128,\"decimalDigits\":null,\"comment\":\"\",\"description\":null,\"isPrimaryKey\":false,\"nullable\":\"NO\",\"autoIncrement\":\"NO\",\"defaultValue\":null,\"discussionCount\":null,\"createAt\":\"2022-04-10 13:45:06\"},{\"id\":412,\"name\":\"password\",\"type\":\"TEXT\",\"size\":65535,\"decimalDigits\":null,\"comment\":\"\",\"description\":null,\"isPrimaryKey\":false,\"nullable\":\"NO\",\"autoIncrement\":\"NO\",\"defaultValue\":null,\"discussionCount\":null,\"createAt\":\"2022-04-10 13:45:06\"}]'\r\n                this.sampleData.columns = JSON.parse(columnJsonData)\r\n                const indexJsonData = '[{\"id\":96,\"name\":\"uk_email\",\"isUnique\":true,\"columnNames\":[\"email\",\"deleted_token\"],\"createAt\":\"2022-04-10 13:45:06\"},{\"id\":97,\"name\":\"uk_username\",\"isUnique\":true,\"columnNames\":[\"username\",\"deleted_token\"],\"createAt\":\"2022-04-10 13:45:06\"},{\"id\":98,\"name\":\"PRIMARY\",\"isUnique\":true,\"columnNames\":[\"id\"],\"createAt\":\"2022-04-10 13:45:06\"}]'\r\n                this.sampleData.indexes = JSON.parse(indexJsonData)\r\n                const foreignKeyJsonData = '[{\"fkName\":\"dept_manager_ibfk_2\",\"fkTableName\":\"dept_manager\",\"fkColumnName\":\"dept_no\",\"pkName\":\"PRIMARY\",\"pkTableName\":\"departments\",\"pkColumnName\":\"dept_no\",\"updateRule\":\"CASCADE\",\"deleteRule\":\"CASCADE\"},{\"fkName\":\"dept_manager_ibfk_1\",\"fkTableName\":\"dept_manager\",\"fkColumnName\":\"emp_no\",\"pkName\":\"PRIMARY\",\"pkTableName\":\"employees\",\"pkColumnName\":\"emp_no\",\"updateRule\":\"CASCADE\",\"deleteRule\":\"CASCADE\"}]'\r\n                this.sampleData.foreignKeys = JSON.parse(foreignKeyJsonData)\r\n                const triggerJsonData = '[{\"id\":1,\"name\":\"custom trigger\",\"timing\":\"before\",\"manipulation\":\"insert\",\"statement\":\"sql\",\"triggerCreateAt\":\"1970-01-01 00:00:00\"}]'\r\n                this.sampleData.triggers = JSON.parse(triggerJsonData)\r\n            } else {\r\n                this.sampleData.tables = []\r\n                this.sampleData.columns = []\r\n                this.sampleData.indexes = []\r\n                this.sampleData.foreignKeys = []\r\n                this.triggers = []\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>","import { render } from \"./SysDocumentTemplateProperty.vue?vue&type=template&id=55056a1b\"\nimport script from \"./SysDocumentTemplateProperty.vue?vue&type=script&lang=js\"\nexport * from \"./SysDocumentTemplateProperty.vue?vue&type=script&lang=js\"\n\nimport \"./SysDocumentTemplateProperty.vue?vue&type=style&index=0&id=55056a1b&lang=css\"\n\nimport exportComponent from \"D:\\\\workspace\\\\github\\\\databasir\\\\databasir-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["documentTemplatePropertiesKey","innerDatabaseTypes","author","template","databaseType","jdbcDriverFileUrl","icon","require","description","jdbcDriverClassName","jdbcProtocol","urlPattern","isLocalUpload","base","listProperties","axios","updateProperties","body","_createElementVNode","class","_createVNode","_component_el_row","_component_el_col","_component_el_switch","$data","$event","size","onChange","$options","_hoisted_1","_component_el_table","border","data","tables","_createElementBlock","_Fragment","_renderList","tableFieldNameProperties","item","_createBlock","_component_el_table_column","label","key","prop","header","value","placeholder","defaultValue","_hoisted_3","columns","columnFieldNameProperties","_hoisted_5","indexes","indexFieldNameProperties","_hoisted_7","foreignKeys","foreignKeyFieldNameProperties","_hoisted_9","triggers","triggerFieldNameProperties","sampleData","showSampleData","inputStyle","watch","created","this","fetchDocumentTemplateProperties","methods","then","resp","errCode","clearPropertyCache","sessionStorage","removeItem","saveTableProperties","type","properties","$message","success","saveColumnProperties","saveIndexProperties","saveTriggerProperties","saveForeignKeyProperties","onSwitchShowSampleData","isShow","name","comment","columnJsonData","JSON","parse","indexJsonData","foreignKeyJsonData","triggerJsonData","__exports__","render"],"sourceRoot":""}