{"version":3,"file":"js/926.361d46e9.js","mappings":"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","sources":["webpack://databasir/./src/api/DatabaseType.js","webpack://databasir/./src/views/SysDatabaseType.vue","webpack://databasir/./src/views/SysDatabaseType.vue?bfc0"],"sourcesContent":["import axios from '@/utils/fetch';\r\n\r\nconst base = '/api/v1.0/database_types'\r\n\r\nconst simples = '/api/v1.0/simple_database_types'\r\n\r\nexport const deleteDatabaseType = (id) => {\r\n    return axios.delete(base+\"/\"+id)\r\n}\r\n\r\nexport const createDatabaseType = (body) => {\r\n    return axios.post(base, body)\r\n}\r\n\r\nexport const updateDatabaseType = (body) => {\r\n    return axios.patch(base, body)\r\n}\r\n\r\nexport const listSimples = () => {\r\n    return axios.get(simples)\r\n}\r\n\r\nexport const listPage = (filter) => {\r\n    return axios.get(base, {\r\n        params: filter\r\n    })\r\n}\r\n\r\nexport const resolveDriverClassName = (request) => {\r\n    return axios.post(base + \"/driver_class_name\", request)\r\n}\r\n","<template>\r\n    <el-container>\r\n        <el-header>\r\n            <el-space>\r\n                <el-tooltip content=\"创建\">\r\n                    <el-button type=\"primary\" style=\"min-width: 100px\" @click=\"toEditPage()\">+</el-button>\r\n                </el-tooltip>\r\n                <el-input @change='onQuery' v-model=\"pageFilter.databaseTypeContains\" placeholder=\"数据库类型名称搜索\" prefix-icon=\"search\"/>\r\n            </el-space>\r\n        </el-header>\r\n        <el-main>\r\n            <el-table :data=\"pageData.data\" border stripe>\r\n                <el-table-column prop=\"id\" label=\"ID\" width=\"50\"/>\r\n                <el-table-column prop=\"databaseType\" label=\"数据库类型\" resizable>\r\n                    <template v-slot=\"scope\">\r\n                        {{ scope.row.databaseType }}\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"icon\" label=\"图标\" >\r\n                    <template v-slot=\"scope\">\r\n                        <img :src=\"scope.row.icon\" style=\"max-width: 25px; max-height: 25px;\"/>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"description\" label=\"描述\" resizable/>\r\n                <el-table-column prop=\"jdbcDriverFileUrl\" label=\"驱动下载地址\">\r\n                    <template v-slot=\"scope\">\r\n                        <el-link :underline=\"false\">\r\n                        {{ scope.row.jdbcDriverFileUrl }}\r\n                        </el-link> \r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"jdbcDriverClassName\" label=\"驱动类名\" resizable/>\r\n                <el-table-column label=\"协议头\">\r\n                    <template v-slot=\"scope\">\r\n                        <el-tag size=\"large\">\r\n                        {{ scope.row.jdbcProtocol }}\r\n                        </el-tag> \r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"projectCount\" label=\"引用项目数\" width=\"100\"/>\r\n                <el-table-column prop=\"urlPattern\" label=\"URL 表达式\" resizable>\r\n                    <template v-slot=\"scope\">\r\n                        <el-tooltip :content=\"tableUrlSample(scope.row)\">\r\n                            <el-link :underline=\"false\" type=\"success\">\r\n                            {{ scope.row.urlPattern }}\r\n                            </el-link> \r\n                        </el-tooltip>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"updateAt\" label=\"更新时间\" />\r\n                <el-table-column prop=\"createAt\" label=\"创建时间\" />\r\n                <el-table-column  label=\"操作\" resizable fixed=\"right\">\r\n                    <template v-slot=\"scope\">\r\n                        <el-space alignment=\"left\" direction=\"vertical\">\r\n                            <el-button type=\"primary\" size=\"small\" icon=\"Edit\" @click=\"toEditPage(scope.row)\">编辑</el-button>\r\n                            <el-button type=\"danger\" size=\"small\" icon=\"Delete\" @click=\"onDelete(scope.row)\">删除</el-button>\r\n                        </el-space>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n\r\n            <el-dialog v-model=\"isShowEditDialog\" width=\"38%\" center destroy-on-close>\r\n                <el-form :model=\"databaseTypeForm\" :rules=\"formDataRule\" ref=\"formDataRef\" label-position=\"top\">\r\n                    <el-row :gutter=\"28\">\r\n                        <el-col :span=\"10\">\r\n                            <el-form-item label=\"数据库类型\"  prop=\"databaseType\">\r\n                                <el-input v-model=\"databaseTypeForm.databaseType\" placeholder=\"请输入数据库类型名称\"></el-input>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"10\">    \r\n                            <el-form-item label=\"图标地址\" prop=\"icon\">\r\n                                <el-input v-model=\"databaseTypeForm.icon\" placeholder=\"图标地址\"></el-input>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                    \r\n                    <el-row>\r\n                        <el-col :span=\"20\">\r\n                            <el-form-item label=\"描述\" prop=\"description\">\r\n                                <el-input v-model=\"databaseTypeForm.description\" type=\"textarea\"></el-input>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row>\r\n                        <el-col :span=\"20\">\r\n                            <el-form-item label=\"JDBC 驱动下载地址\"  prop=\"jdbcDriverFileUrl\">\r\n                                <el-input v-model=\"databaseTypeForm.jdbcDriverFileUrl\" placeholder=\"jdbc 驱动下载地址，如 https://repo1.maven.org/maven2/mysql/mysql-connector-java/8.0.28/mysql-connector-java-8.0.28.jar\"></el-input>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                    \r\n                    <el-row :gutter=\"28\">\r\n                        <el-col :span=\"10\">\r\n                             <el-form-item  label=\"驱动类名\"  prop=\"jdbcDriverClassName\">\r\n                                <el-input v-model=\"databaseTypeForm.jdbcDriverClassName\" placeholder=\"jdbc 驱动类名，如 com.mysql.jdbc.Driver\">\r\n                                    <template #append>\r\n                                        <el-link type=\"primary\" @click=\"autoObtainDriverClassName()\" v-loading=\"loadingClassName\">自动获取</el-link>\r\n                                    </template>\r\n                                </el-input>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"10\">\r\n                            <el-form-item  label=\"协议头\"  prop=\"jdbcProtocol\">\r\n                                <el-input v-model=\"databaseTypeForm.jdbcProtocol\" placeholder=\"协议头，如 jdbc:mysql，jdbc:postgresql，jdbc:mariadb 等\"></el-input>\r\n                            </el-form-item>    \r\n                        </el-col>\r\n                    </el-row>\r\n\r\n                    <el-row>\r\n                        <el-col :span=\"20\">\r\n                            <el-form-item label=\"URL 生成表达式\"  prop=\"urlPattern\">\r\n                                <el-col>\r\n                                    <el-input v-model=\"databaseTypeForm.urlPattern\" placeholder=\"支持变量 {{jdbc.protocol}}, {{db.url}}, {{db.name}}\">\r\n                                    </el-input>\r\n                                </el-col>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col>\r\n                            <el-space>\r\n                                <span>内置变量：</span>\r\n                                <el-tooltip  v-for=\"(item, index) in constData.availableVariables\" :key=\"index\" :content=\"item.description\">\r\n                                    <el-tag>{{item.name}}</el-tag>\r\n                                </el-tooltip>\r\n                            </el-space>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row style=\"margin-top: 20px\">\r\n                        <el-col>\r\n                            结果示例：<el-link type=\"success\">{{urlSample}}</el-link>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-form-item style=\"margin-top: 33px\">\r\n                        <el-button type=\"primary\" @click=\"onFormSave('formDataRef')\" :loading=\"loadingSave\">保存</el-button>\r\n                        <el-button @click=\"isShowEditDialog = false\">取消</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-dialog>\r\n        </el-main>\r\n        <el-footer>\r\n            <el-pagination layout=\"prev, pager, next\" \r\n                :hide-on-single-page=\"false\"\r\n                :currentPage=\"pageData.number\" \r\n                :page-size=\"pageData.size\" \r\n                :page-count=\"pageData.totalPages\"\r\n                @current-change=\"onPageChange\">\r\n            </el-pagination>\r\n        </el-footer>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {createDatabaseType, deleteDatabaseType, updateDatabaseType, listPage, resolveDriverClassName} from '@/api/DatabaseType'\r\n\r\nexport default{\r\n    data() {\r\n        return {\r\n            databaseTypes: [],\r\n            pageData: {\r\n                data: [],\r\n                page: 0,\r\n                number: 1,\r\n                size: 15,\r\n                totalElements:0,\r\n                totalPages: 1\r\n            },\r\n            pageFilter: {\r\n                page: 0,\r\n                size: 10,\r\n                databaseTypeContains: null\r\n            },\r\n            databaseTypeForm: {\r\n                id: null,\r\n                databaseType: null,\r\n                icon: null,\r\n                description: null,\r\n                jdbcDriverFileUrl: null,\r\n                jdbcDriverClassName: null,\r\n                jdbcProtocol: null,\r\n                urlPattern: \"\",\r\n            },\r\n            formDataRule: {\r\n                databaseType: [                    \r\n                    { required: true,message: '请输入数据库类型名称', trigger: 'blur'},\r\n                ],\r\n                description: [                    \r\n                    { required: true,message: '请输入描述内容', trigger: 'blur'},\r\n                ],\r\n                jdbcDriverFileUrl: [                    \r\n                    { required: true,message: '请输入合法的驱动下载地址', trigger: 'blur'},\r\n                ],\r\n                jdbcDriverClassName: [                    \r\n                    { required: true,message: '请输入合法的驱动类名', trigger: 'blur'},\r\n                ],\r\n                jdbcProtocol: [                    \r\n                    { required: true,message: '请输入合法的 JDBC 协议头', trigger: 'blur'},\r\n                ],\r\n                urlPattern: [                    \r\n                    { required: true,message: '请输入合法的 URL 模式', trigger: 'blur'},\r\n                ]\r\n            },\r\n            isShowEditDialog: false,\r\n            constData: {\r\n                urlPattern: '{{jdbc.protocol}}://{{db.url}}/{{db.name}}',\r\n                availableVariables: [\r\n                    {\r\n                        name: '{{jdbc.protocol}}',\r\n                        description: '协议头，如 jdbc:mysql'\r\n                    },\r\n                    {\r\n                        name: '{{db.name}}',\r\n                        description: '数据库名称，如 public'\r\n                    },\r\n                    {\r\n                        name: '{{db.url}}',\r\n                        description: '数据库地址，如 127.0.0.1:3306'\r\n                    },\r\n                    {\r\n                        name: '{{db.schema}}',\r\n                        description: 'schema 名称，如 user'\r\n                    }\r\n                ]\r\n            },\r\n            loadingClassName: false,\r\n            loadingSave: false,\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchDatabaseTypes();\r\n    },\r\n    computed: {\r\n        urlSample() {\r\n            const url = '127.0.0.1:3306'\r\n            const dbName = 'databasir'\r\n            const schemaNmae = 'public'\r\n            const jdbcProtocol = this.databaseTypeForm.jdbcProtocol ? this.databaseTypeForm.jdbcProtocol : 'jdbc:mysql'\r\n            return this.databaseTypeForm.urlPattern\r\n            .replace('{{jdbc.protocol}}', jdbcProtocol)\r\n            .replace('{{db.name}}', dbName)\r\n            .replace('{{db.schema}}', schemaNmae)\r\n            .replace('{{db.url}}', url)\r\n        }\r\n    },\r\n    methods: {\r\n        async fetchDatabaseTypes() {\r\n            const jsonData = await listPage(this.pageFilter)\r\n            this.pageData.data = jsonData.data.content\r\n            this.pageData.number = jsonData.data.number + 1\r\n            this.pageData.size = jsonData.data.size\r\n            this.pageData.totalPages = jsonData.data.totalPages\r\n            this.pageData.totalElements = jsonData.data.totalElements\r\n        },\r\n\r\n        onDelete(item) {\r\n            this.$confirm('确认删除该数据库类型吗？这将导致数据同步失败', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                deleteDatabaseType(item.id).then(resp => {\r\n                    if(!resp.errCode) {\r\n                        this.$message.success('删除成功')\r\n                        this.onPageChange(1, true)\r\n                    }\r\n                })\r\n            })\r\n            \r\n        },\r\n\r\n        onFormSave() {\r\n            this.$refs.formDataRef.validate(valid => {\r\n                if (valid) {\r\n                    if(this.databaseTypeForm.id) {\r\n                        this.onUpdate(this.databaseTypeForm)\r\n                    } else {\r\n                        this.onCreate(this.databaseTypeForm)\r\n                    }\r\n                } else {\r\n                    this.$message.error('请填写表单必填项')\r\n                }\r\n            })\r\n        },\r\n\r\n        onUpdate() {\r\n            this.loadingSave = true\r\n            updateDatabaseType(this.databaseTypeForm).then(resp => {\r\n                if(!resp.errCode) {\r\n                    this.$message.success('更新成功')\r\n                    this.isShowEditDialog = false\r\n                    this.fetchDatabaseTypes()\r\n                }\r\n            }).finally(() => this.loadingSave = false)\r\n        },\r\n\r\n        onCreate() {\r\n            this.loadingSave = true\r\n            createDatabaseType(this.databaseTypeForm).then(resp => {\r\n                if(!resp.errCode) {\r\n                    this.$message.success('创建成功')\r\n                    this.isShowEditDialog = false\r\n                    this.onPageChange(1, true)\r\n                }\r\n            }).finally(() => this.loadingSave = false)\r\n        },\r\n\r\n        onQuery(){\r\n            this.fetchDatabaseTypes()\r\n        },\r\n\r\n        onPageChange(currentPage, force) {\r\n             if (currentPage && (currentPage -1) != this.pageFilter.page) {\r\n                this.pageFilter.page = currentPage - 1\r\n                this.fetchDatabaseTypes()\r\n            } else if(force) {\r\n                this.pageFilter.page = currentPage - 1\r\n                this.fetchDatabaseTypes()\r\n            }\r\n        },\r\n\r\n        toEditPage(data) {\r\n            if (data && data.id) {\r\n                this.databaseTypeForm = JSON.parse(JSON.stringify(data));\r\n            } else {\r\n                this.databaseTypeForm = {}\r\n                this.databaseTypeForm.urlPattern = this.constData.urlPattern\r\n            }\r\n            this.isShowEditDialog = true\r\n        },\r\n\r\n        tableUrlSample(row) {\r\n            const url = '127.0.0.1:3306'\r\n            const dbName = 'databasir'\r\n            return row.urlPattern\r\n            .replace('{{jdbc.protocol}}', row.jdbcProtocol)\r\n            .replace('{{db.name}}', dbName)\r\n            .replace('{{db.url}}', url)\r\n        },\r\n\r\n        autoObtainDriverClassName() {\r\n            if (!this.databaseTypeForm.jdbcDriverFileUrl) {\r\n                this.$message.warning(\"请求填写 JDBC 驱动下载地址\")\r\n                return;\r\n            }\r\n\r\n            this.loadingClassName = true\r\n            const request = {\r\n                jdbcDriverFileUrl: this.databaseTypeForm.jdbcDriverFileUrl \r\n            }\r\n            resolveDriverClassName(request)\r\n            .then(resp => {\r\n                if (!resp.errCode) {\r\n                    this.databaseTypeForm.jdbcDriverClassName = resp.data\r\n                    this.$message.success(\"获取成功\")\r\n                }\r\n            })\r\n            .finally(() => {\r\n                this.loadingClassName = false\r\n            })\r\n        },\r\n\r\n    }\r\n}\r\n</script>\r\n","import { render } from \"./SysDatabaseType.vue?vue&type=template&id=2f44e7bb\"\nimport script from \"./SysDatabaseType.vue?vue&type=script&lang=js\"\nexport * from \"./SysDatabaseType.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\git_workspace\\\\databasir-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["base","simples","deleteDatabaseType","id","axios","createDatabaseType","body","updateDatabaseType","listSimples","listPage","filter","params","resolveDriverClassName","request","_createElementVNode","_createBlock","_component_el_container","_createVNode","_component_el_header","_component_el_space","_component_el_tooltip","content","_component_el_button","type","style","onClick","$options","_component_el_input","onChange","$data","databaseTypeContains","$event","placeholder","_component_el_main","_component_el_table","data","border","stripe","_component_el_table_column","prop","label","width","resizable","scope","row","databaseType","src","icon","_component_el_link","underline","jdbcDriverFileUrl","_component_el_tag","size","jdbcProtocol","urlPattern","fixed","alignment","direction","_component_el_dialog","center","_component_el_form","model","rules","ref","_component_el_row","gutter","_component_el_col","span","_component_el_form_item","description","jdbcDriverClassName","append","_hoisted_6","_createElementBlock","_Fragment","_renderList","availableVariables","item","index","key","name","loading","_component_el_footer","_component_el_pagination","layout","currentPage","number","totalPages","onCurrentChange","databaseTypes","pageData","page","totalElements","pageFilter","databaseTypeForm","formDataRule","required","message","trigger","isShowEditDialog","constData","loadingClassName","loadingSave","created","this","fetchDatabaseTypes","computed","urlSample","url","dbName","schemaNmae","replace","methods","async","jsonData","onDelete","$confirm","confirmButtonText","cancelButtonText","then","resp","errCode","$message","success","onPageChange","onFormSave","$refs","formDataRef","validate","valid","onUpdate","onCreate","error","finally","onQuery","force","toEditPage","JSON","parse","stringify","tableUrlSample","autoObtainDriverClassName","warning","__exports__","render"],"sourceRoot":""}