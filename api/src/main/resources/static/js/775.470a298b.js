"use strict";(self["webpackChunkdatabasir"]=self["webpackChunkdatabasir"]||[]).push([[775],{4339:function(e,l,a){a.d(l,{b:function(){return t}});const t="document_template_properties"},6631:function(e,l,a){a.d(l,{D:function(){return r},z:function(){return o}});var t=a(3872);const u="/api/v1.0",r=()=>t.Z.get(u+"/document_template/properties"),o=e=>t.Z.patch(u+"/document_template/properties",e)},5775:function(e,l,a){a.r(l),a.d(l,{default:function(){return V}});var t=a(6252);const u=(0,t._)("h1",null,"列字段名配置",-1),r=(0,t.Uk)("保存"),o=(0,t.Uk)("预览"),d=(0,t._)("h1",null,"索引字段名配置",-1),m=(0,t.Uk)("保存"),n=(0,t.Uk)("预览"),i=(0,t._)("h1",null,"外键字段名配置",-1),p=(0,t.Uk)("保存"),s=(0,t.Uk)("预览"),c=(0,t._)("h1",null," 触发器字段名配置 ",-1),w=(0,t.Uk)("保存"),f=(0,t.Uk)("预览"),_=(0,t._)("div",{class:"h2"},"Column",-1),W=(0,t._)("div",{class:"h2"},"Index",-1),h=(0,t._)("div",{class:"h2"},"Foreign Key",-1),b=(0,t._)("div",{class:"h2"},"Trigger",-1);function v(e,l,a,v,g,P){const k=(0,t.up)("el-button"),y=(0,t.up)("el-col"),C=(0,t.up)("el-row"),V=(0,t.up)("el-table-column"),F=(0,t.up)("el-input"),N=(0,t.up)("el-table"),T=(0,t.up)("el-tab-pane"),U=(0,t.up)("el-tabs"),D=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(U,{"model-value":"columnTab",onTabClick:e.handleClick},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{label:"列模板",name:"columnTab"},{default:(0,t.w5)((()=>[u,(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,{type:"primary",onClick:P.saveColumnProperties},{default:(0,t.w5)((()=>[r])),_:1},8,["onClick"]),(0,t.Wm)(k,{type:"success",onClick:P.onTemplatePreview},{default:(0,t.w5)((()=>[o])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(N,{data:g.template.columnFieldNameProperties,border:""},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{prop:"key",label:"属性"}),(0,t.Wm)(V,{prop:"value",label:"值"},{default:(0,t.w5)((e=>[(0,t.Wm)(F,{modelValue:e.row.value,"onUpdate:modelValue":l=>e.row.value=l,placeholder:"属性值"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,t.Wm)(V,{prop:"defaultValue",label:"默认值"})])),_:1},8,["data"])])),_:1})])),_:1})])),_:1}),(0,t.Wm)(T,{label:"索引模板",name:"indexTab"},{default:(0,t.w5)((()=>[d,(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,{type:"primary",onClick:P.saveIndexProperties},{default:(0,t.w5)((()=>[m])),_:1},8,["onClick"]),(0,t.Wm)(k,{type:"success",onClick:P.onTemplatePreview},{default:(0,t.w5)((()=>[n])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(N,{data:g.template.indexFieldNameProperties,border:""},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{prop:"key",label:"属性"}),(0,t.Wm)(V,{prop:"value",label:"值"},{default:(0,t.w5)((e=>[(0,t.Wm)(F,{modelValue:e.row.value,"onUpdate:modelValue":l=>e.row.value=l,placeholder:"属性值"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,t.Wm)(V,{prop:"defaultValue",label:"默认值"})])),_:1},8,["data"])])),_:1})])),_:1})])),_:1}),(0,t.Wm)(T,{label:"外键模板",name:"foreignKeyTab"},{default:(0,t.w5)((()=>[i,(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,{type:"primary",onClick:P.saveForeignKeyProperties},{default:(0,t.w5)((()=>[p])),_:1},8,["onClick"]),(0,t.Wm)(k,{type:"success",onClick:P.onTemplatePreview},{default:(0,t.w5)((()=>[s])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(N,{data:g.template.foreignKeyFieldNameProperties,border:""},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{prop:"key",label:"属性"}),(0,t.Wm)(V,{prop:"value",label:"值"},{default:(0,t.w5)((e=>[(0,t.Wm)(F,{modelValue:e.row.value,"onUpdate:modelValue":l=>e.row.value=l,placeholder:"属性值"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,t.Wm)(V,{prop:"defaultValue",label:"默认值"})])),_:1},8,["data"])])),_:1})])),_:1})])),_:1}),(0,t.Wm)(T,{label:"触发器模板",name:"triggerTab"},{default:(0,t.w5)((()=>[c,(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,{type:"primary",onClick:P.saveTriggerProperties},{default:(0,t.w5)((()=>[w])),_:1},8,["onClick"]),(0,t.Wm)(k,{type:"success",onClick:P.onTemplatePreview},{default:(0,t.w5)((()=>[f])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(N,{data:g.template.triggerFieldNameProperties,border:""},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{prop:"key",label:"属性"}),(0,t.Wm)(V,{prop:"value",label:"值"},{default:(0,t.w5)((e=>[(0,t.Wm)(F,{modelValue:e.row.value,"onUpdate:modelValue":l=>e.row.value=l,placeholder:"属性值"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,t.Wm)(V,{prop:"defaultValue",label:"默认值"})])),_:1},8,["data"])])),_:1})])),_:1})])),_:1})])),_:1},8,["onTabClick"]),(0,t.Wm)(D,{modelValue:g.showTemplatePreview,"onUpdate:modelValue":l[0]||(l[0]=e=>g.showTemplatePreview=e),width:"80%",title:"模板预览"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[_,(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(N,{border:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(g.template.columnFieldNameProperties,((e,l)=>((0,t.wg)(),(0,t.j4)(V,{label:e.value?e.value:e.defaultValue,key:l},null,8,["label"])))),128))])),_:1})])),_:1})])),_:1}),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[W,(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(N,{border:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(g.template.indexFieldNameProperties,((e,l)=>((0,t.wg)(),(0,t.j4)(V,{label:e.value?e.value:e.defaultValue,key:l},null,8,["label"])))),128))])),_:1})])),_:1})])),_:1}),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[h,(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(N,{border:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(g.template.foreignKeyFieldNameProperties,((e,l)=>((0,t.wg)(),(0,t.j4)(V,{label:e.value?e.value:e.defaultValue,key:l},null,8,["label"])))),128))])),_:1})])),_:1})])),_:1}),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[b,(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(N,{border:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(g.template.triggerFieldNameProperties,((e,l)=>((0,t.wg)(),(0,t.j4)(V,{label:e.value?e.value:e.defaultValue,key:l},null,8,["label"])))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var g=a(6631),P=a(4339),k={data(){return{template:{columnFieldNameProperties:[],foreignKeyFieldNameProperties:[],indexFieldNameProperties:[],triggerFieldNameProperties:[]},showTemplatePreview:!1}},watch:{},created(){this.fetchDocumentTemplateProperties()},methods:{fetchDocumentTemplateProperties(){(0,g.D)().then((e=>{e.errCode||(this.template=e.data)}))},clearPropertyCache(){sessionStorage.removeItem(P.b)},saveColumnProperties(){const e={type:"COLUMN_FIELD_NAME",properties:this.template.columnFieldNameProperties};(0,g.z)(e).then((e=>{e.errCode||(this.$message.success("保存成功"),this.clearPropertyCache())}))},saveIndexProperties(){const e={type:"INDEX_FIELD_NAME",properties:this.template.indexFieldNameProperties};(0,g.z)(e).then((e=>{e.errCode||(this.$message.success("保存成功"),this.clearPropertyCache())}))},saveTriggerProperties(){const e={type:"TRIGGER_FIELD_NAME",properties:this.template.triggerFieldNameProperties};(0,g.z)(e).then((e=>{e.errCode||(this.$message.success("保存成功"),this.clearPropertyCache())}))},saveForeignKeyProperties(){const e={type:"FOREIGN_KEY_FIELD_NAME",properties:this.template.foreignKeyFieldNameProperties};(0,g.z)(e).then((e=>{e.errCode||(this.$message.success("保存成功"),this.clearPropertyCache())}))},onTemplatePreview(){this.showTemplatePreview=!0}}},y=a(3744);const C=(0,y.Z)(k,[["render",v]]);var V=C}}]);
//# sourceMappingURL=775.470a298b.js.map