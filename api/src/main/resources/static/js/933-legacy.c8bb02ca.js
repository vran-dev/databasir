(self["webpackChunkdatabasir"]=self["webpackChunkdatabasir"]||[]).push([[933],{1589:function(e,t,n){var r=n(7854),a=n(1400),o=n(6244),u=n(6135),i=r.Array,l=Math.max;e.exports=function(e,t,n){for(var r=o(e),c=a(t,r),s=a(void 0===n?r:n,r),d=i(l(s-c,0)),f=0;c<s;c++,f++)u(d,f,e[c]);return d.length=f,d}},6135:function(e,t,n){"use strict";var r=n(4948),a=n(3070),o=n(9114);e.exports=function(e,t,n){var u=r(t);u in e?a.f(e,u,o(0,n)):e[u]=n}},7235:function(e,t,n){var r=n(857),a=n(2597),o=n(6061),u=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});a(t,e)||u(t,e,{value:o.f(e)})}},1156:function(e,t,n){var r=n(4326),a=n(5656),o=n(8006).f,u=n(1589),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return o(e)}catch(t){return u(i)}};e.exports.f=function(e){return i&&"Window"==r(e)?l(e):o(a(e))}},857:function(e,t,n){var r=n(7854);e.exports=r},6061:function(e,t,n){var r=n(5112);t.f=r},1817:function(e,t,n){"use strict";var r=n(2109),a=n(9781),o=n(7854),u=n(1702),i=n(2597),l=n(614),c=n(7976),s=n(1340),d=n(3070).f,f=n(9920),p=o.Symbol,m=p&&p.prototype;if(a&&l(p)&&(!("description"in m)||void 0!==p().description)){var b={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),t=c(m,this)?new p(e):void 0===e?p():p(e);return""===e&&(b[t]=!0),t};f(g,p),g.prototype=m,m.constructor=g;var y="Symbol(test)"==String(p("test")),w=u(m.toString),h=u(m.valueOf),v=/^Symbol\((.*)\)[^)]+$/,W=u("".replace),_=u("".slice);d(m,"description",{configurable:!0,get:function(){var e=h(this),t=w(e);if(i(b,e))return"";var n=y?_(t,7,-1):W(t,v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:g})}},2526:function(e,t,n){"use strict";var r=n(2109),a=n(7854),o=n(5005),u=n(2104),i=n(6916),l=n(1702),c=n(1913),s=n(9781),d=n(133),f=n(7293),p=n(2597),m=n(3157),b=n(614),g=n(111),y=n(7976),w=n(2190),h=n(9670),v=n(7908),W=n(5656),_=n(4948),D=n(1340),j=n(9114),F=n(30),T=n(1956),C=n(8006),P=n(1156),S=n(5181),U=n(1236),k=n(3070),V=n(5296),O=n(206),x=n(1320),z=n(2309),N=n(6200),E=n(3501),q=n(9711),R=n(5112),Z=n(6061),$=n(7235),J=n(8003),B=n(9909),Q=n(2092).forEach,A=N("hidden"),L="Symbol",I="prototype",H=R("toPrimitive"),K=B.set,M=B.getterFor(L),Y=Object[I],G=a.Symbol,X=G&&G[I],ee=a.TypeError,te=a.QObject,ne=o("JSON","stringify"),re=U.f,ae=k.f,oe=P.f,ue=V.f,ie=l([].push),le=z("symbols"),ce=z("op-symbols"),se=z("string-to-symbol-registry"),de=z("symbol-to-string-registry"),fe=z("wks"),pe=!te||!te[I]||!te[I].findChild,me=s&&f((function(){return 7!=F(ae({},"a",{get:function(){return ae(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=re(Y,t);r&&delete Y[t],ae(e,t,n),r&&e!==Y&&ae(Y,t,r)}:ae,be=function(e,t){var n=le[e]=F(X);return K(n,{type:L,tag:e,description:t}),s||(n.description=t),n},ge=function(e,t,n){e===Y&&ge(ce,t,n),h(e);var r=_(t);return h(n),p(le,r)?(n.enumerable?(p(e,A)&&e[A][r]&&(e[A][r]=!1),n=F(n,{enumerable:j(0,!1)})):(p(e,A)||ae(e,A,j(1,{})),e[A][r]=!0),me(e,r,n)):ae(e,r,n)},ye=function(e,t){h(e);var n=W(t),r=T(n).concat(_e(n));return Q(r,(function(t){s&&!i(he,n,t)||ge(e,t,n[t])})),e},we=function(e,t){return void 0===t?F(e):ye(F(e),t)},he=function(e){var t=_(e),n=i(ue,this,t);return!(this===Y&&p(le,t)&&!p(ce,t))&&(!(n||!p(this,t)||!p(le,t)||p(this,A)&&this[A][t])||n)},ve=function(e,t){var n=W(e),r=_(t);if(n!==Y||!p(le,r)||p(ce,r)){var a=re(n,r);return!a||!p(le,r)||p(n,A)&&n[A][r]||(a.enumerable=!0),a}},We=function(e){var t=oe(W(e)),n=[];return Q(t,(function(e){p(le,e)||p(E,e)||ie(n,e)})),n},_e=function(e){var t=e===Y,n=oe(t?ce:W(e)),r=[];return Q(n,(function(e){!p(le,e)||t&&!p(Y,e)||ie(r,le[e])})),r};if(d||(G=function(){if(y(X,this))throw ee("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?D(arguments[0]):void 0,t=q(e),n=function(e){this===Y&&i(n,ce,e),p(this,A)&&p(this[A],t)&&(this[A][t]=!1),me(this,t,j(1,e))};return s&&pe&&me(Y,t,{configurable:!0,set:n}),be(t,e)},X=G[I],x(X,"toString",(function(){return M(this).tag})),x(G,"withoutSetter",(function(e){return be(q(e),e)})),V.f=he,k.f=ge,U.f=ve,C.f=P.f=We,S.f=_e,Z.f=function(e){return be(R(e),e)},s&&(ae(X,"description",{configurable:!0,get:function(){return M(this).description}}),c||x(Y,"propertyIsEnumerable",he,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:G}),Q(T(fe),(function(e){$(e)})),r({target:L,stat:!0,forced:!d},{for:function(e){var t=D(e);if(p(se,t))return se[t];var n=G(t);return se[t]=n,de[n]=t,n},keyFor:function(e){if(!w(e))throw ee(e+" is not a symbol");if(p(de,e))return de[e]},useSetter:function(){pe=!0},useSimple:function(){pe=!1}}),r({target:"Object",stat:!0,forced:!d,sham:!s},{create:we,defineProperty:ge,defineProperties:ye,getOwnPropertyDescriptor:ve}),r({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:We,getOwnPropertySymbols:_e}),r({target:"Object",stat:!0,forced:f((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(v(e))}}),ne){var De=!d||f((function(){var e=G();return"[null]"!=ne([e])||"{}"!=ne({a:e})||"{}"!=ne(Object(e))}));r({target:"JSON",stat:!0,forced:De},{stringify:function(e,t,n){var r=O(arguments),a=t;if((g(t)||void 0!==e)&&!w(e))return m(t)||(t=function(e,t){if(b(a)&&(t=i(a,this,e,t)),!w(t))return t}),r[1]=t,u(ne,null,r)}})}if(!X[H]){var je=X.valueOf;x(X,H,(function(e){return i(je,this)}))}J(G,L),E[A]=!0},6299:function(e,t,n){"use strict";n.d(t,{ew:function(){return u},wu:function(){return i},r6:function(){return l},ns:function(){return c},OE:function(){return s},Zu:function(){return d}});var r=n(3872),a="/api/v1.0/database_types",o="/api/v1.0/simple_database_types",u=function(e){return r.Z["delete"](a+"/"+e)},i=function(e){return r.Z.post(a,e)},l=function(e){return r.Z.patch(a,e)},c=function(){return r.Z.get(o)},s=function(e){return r.Z.get(a,{params:e})},d=function(e){return r.Z.post(a+"/driver_class_name",e)}},3933:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});n(2526),n(1817),n(8309);var r=n(6252),a=n(3577),o=(0,r.Uk)("+"),u=["src"],i=(0,r.Uk)("编辑"),l=(0,r.Uk)("删除"),c=(0,r.Uk)("自动获取"),s=(0,r._)("span",null,"内置变量：",-1),d=(0,r.Uk)(" 结果示例："),f=(0,r.Uk)("保存"),p=(0,r.Uk)("取消");function m(e,t,n,m,b,g){var y=(0,r.up)("el-button"),w=(0,r.up)("el-tooltip"),h=(0,r.up)("el-input"),v=(0,r.up)("el-space"),W=(0,r.up)("el-header"),_=(0,r.up)("el-table-column"),D=(0,r.up)("el-link"),j=(0,r.up)("el-tag"),F=(0,r.up)("el-table"),T=(0,r.up)("el-form-item"),C=(0,r.up)("el-col"),P=(0,r.up)("el-row"),S=(0,r.up)("el-form"),U=(0,r.up)("el-dialog"),k=(0,r.up)("el-main"),V=(0,r.up)("el-pagination"),O=(0,r.up)("el-footer"),x=(0,r.up)("el-container"),z=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.j4)(x,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(W,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(v,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(w,{content:"创建"},{default:(0,r.w5)((function(){return[(0,r.Wm)(y,{type:"primary",style:{"min-width":"100px"},onClick:t[0]||(t[0]=function(e){return g.toEditPage()})},{default:(0,r.w5)((function(){return[o]})),_:1})]})),_:1}),(0,r.Wm)(h,{onChange:g.onQuery,modelValue:b.pageFilter.databaseTypeContains,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b.pageFilter.databaseTypeContains=e}),placeholder:"数据库类型名称搜索","prefix-icon":"search"},null,8,["onChange","modelValue"])]})),_:1})]})),_:1}),(0,r.Wm)(k,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(F,{data:b.pageData.data,border:"",stripe:""},{default:(0,r.w5)((function(){return[(0,r.Wm)(_,{prop:"id",label:"ID",width:"50"}),(0,r.Wm)(_,{prop:"databaseType",label:"数据库类型",resizable:""},{default:(0,r.w5)((function(e){return[(0,r.Uk)((0,a.zw)(e.row.databaseType),1)]})),_:1}),(0,r.Wm)(_,{prop:"icon",label:"图标"},{default:(0,r.w5)((function(e){return[(0,r._)("img",{src:e.row.icon,style:{"max-width":"25px","max-height":"25px"}},null,8,u)]})),_:1}),(0,r.Wm)(_,{prop:"description",label:"描述",resizable:""}),(0,r.Wm)(_,{prop:"jdbcDriverFileUrl",label:"驱动下载地址"},{default:(0,r.w5)((function(e){return[(0,r.Wm)(D,{underline:!1},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,a.zw)(e.row.jdbcDriverFileUrl),1)]})),_:2},1024)]})),_:1}),(0,r.Wm)(_,{prop:"jdbcDriverClassName",label:"驱动类名",resizable:""}),(0,r.Wm)(_,{label:"协议头"},{default:(0,r.w5)((function(e){return[(0,r.Wm)(j,{size:"large"},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,a.zw)(e.row.jdbcProtocol),1)]})),_:2},1024)]})),_:1}),(0,r.Wm)(_,{prop:"projectCount",label:"引用项目数",width:"100"}),(0,r.Wm)(_,{prop:"urlPattern",label:"URL 表达式",resizable:""},{default:(0,r.w5)((function(e){return[(0,r.Wm)(w,{content:g.tableUrlSample(e.row)},{default:(0,r.w5)((function(){return[(0,r.Wm)(D,{underline:!1,type:"success"},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,a.zw)(e.row.urlPattern),1)]})),_:2},1024)]})),_:2},1032,["content"])]})),_:1}),(0,r.Wm)(_,{prop:"updateAt",label:"更新时间"}),(0,r.Wm)(_,{prop:"createAt",label:"创建时间"}),(0,r.Wm)(_,{label:"操作",resizable:"",fixed:"right"},{default:(0,r.w5)((function(e){return[(0,r.Wm)(v,{alignment:"left",direction:"vertical"},{default:(0,r.w5)((function(){return[(0,r.Wm)(y,{type:"primary",size:"small",icon:"Edit",onClick:function(t){return g.toEditPage(e.row)}},{default:(0,r.w5)((function(){return[i]})),_:2},1032,["onClick"]),(0,r.Wm)(y,{type:"danger",size:"small",icon:"Delete",onClick:function(t){return g.onDelete(e.row)}},{default:(0,r.w5)((function(){return[l]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:1})]})),_:1},8,["data"]),(0,r.Wm)(U,{modelValue:b.isShowEditDialog,"onUpdate:modelValue":t[12]||(t[12]=function(e){return b.isShowEditDialog=e}),width:"38%",center:"","destroy-on-close":""},{default:(0,r.w5)((function(){return[(0,r.Wm)(S,{model:b.databaseTypeForm,rules:b.formDataRule,ref:"formDataRef","label-position":"top"},{default:(0,r.w5)((function(){return[(0,r.Wm)(P,{gutter:28},{default:(0,r.w5)((function(){return[(0,r.Wm)(C,{span:10},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{label:"数据库类型",prop:"databaseType"},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,{modelValue:b.databaseTypeForm.databaseType,"onUpdate:modelValue":t[2]||(t[2]=function(e){return b.databaseTypeForm.databaseType=e}),placeholder:"请输入数据库类型名称"},null,8,["modelValue"])]})),_:1})]})),_:1}),(0,r.Wm)(C,{span:10},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{label:"图标地址",prop:"icon"},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,{modelValue:b.databaseTypeForm.icon,"onUpdate:modelValue":t[3]||(t[3]=function(e){return b.databaseTypeForm.icon=e}),placeholder:"图标地址"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(P,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(C,{span:20},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{label:"描述",prop:"description"},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,{modelValue:b.databaseTypeForm.description,"onUpdate:modelValue":t[4]||(t[4]=function(e){return b.databaseTypeForm.description=e}),type:"textarea"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(P,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(C,{span:20},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{label:"JDBC 驱动下载地址",prop:"jdbcDriverFileUrl"},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,{modelValue:b.databaseTypeForm.jdbcDriverFileUrl,"onUpdate:modelValue":t[5]||(t[5]=function(e){return b.databaseTypeForm.jdbcDriverFileUrl=e}),placeholder:"jdbc 驱动下载地址，如 https://repo1.maven.org/maven2/mysql/mysql-connector-java/8.0.28/mysql-connector-java-8.0.28.jar"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(P,{gutter:28},{default:(0,r.w5)((function(){return[(0,r.Wm)(C,{span:10},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{label:"驱动类名",prop:"jdbcDriverClassName"},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,{modelValue:b.databaseTypeForm.jdbcDriverClassName,"onUpdate:modelValue":t[7]||(t[7]=function(e){return b.databaseTypeForm.jdbcDriverClassName=e}),placeholder:"jdbc 驱动类名，如 com.mysql.jdbc.Driver"},{append:(0,r.w5)((function(){return[(0,r.wy)(((0,r.wg)(),(0,r.j4)(D,{type:"primary",onClick:t[6]||(t[6]=function(e){return g.autoObtainDriverClassName()})},{default:(0,r.w5)((function(){return[c]})),_:1})),[[z,b.loadingClassName]])]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),(0,r.Wm)(C,{span:10},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{label:"协议头",prop:"jdbcProtocol"},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,{modelValue:b.databaseTypeForm.jdbcProtocol,"onUpdate:modelValue":t[8]||(t[8]=function(e){return b.databaseTypeForm.jdbcProtocol=e}),placeholder:"协议头，如 jdbc:mysql，jdbc:postgresql，jdbc:mariadb 等"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(P,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(C,{span:20},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{label:"URL 生成表达式",prop:"urlPattern"},{default:(0,r.w5)((function(){return[(0,r.Wm)(C,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(h,{modelValue:b.databaseTypeForm.urlPattern,"onUpdate:modelValue":t[9]||(t[9]=function(e){return b.databaseTypeForm.urlPattern=e}),placeholder:"支持变量 {{jdbc.protocol}}, {{db.url}}, {{db.name}}"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(C,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(v,null,{default:(0,r.w5)((function(){return[s,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(b.constData.availableVariables,(function(e,t){return(0,r.wg)(),(0,r.j4)(w,{key:t,content:e.description},{default:(0,r.w5)((function(){return[(0,r.Wm)(j,null,{default:(0,r.w5)((function(){return[(0,r.Uk)((0,a.zw)(e.name),1)]})),_:2},1024)]})),_:2},1032,["content"])})),128))]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(P,{style:{"margin-top":"20px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(C,null,{default:(0,r.w5)((function(){return[d,(0,r.Wm)(D,{type:"success"},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,a.zw)(g.urlSample),1)]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(T,{style:{"margin-top":"33px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(y,{type:"primary",onClick:t[10]||(t[10]=function(e){return g.onFormSave("formDataRef")}),loading:b.loadingSave},{default:(0,r.w5)((function(){return[f]})),_:1},8,["loading"]),(0,r.Wm)(y,{onClick:t[11]||(t[11]=function(e){return b.isShowEditDialog=!1})},{default:(0,r.w5)((function(){return[p]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["modelValue"])]})),_:1}),(0,r.Wm)(O,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(V,{layout:"prev, pager, next","hide-on-single-page":!1,currentPage:b.pageData.number,"page-size":b.pageData.size,"page-count":b.pageData.totalPages,onCurrentChange:g.onPageChange},null,8,["currentPage","page-size","page-count","onCurrentChange"])]})),_:1})]})),_:1})}var b=n(8534),g=(n(5666),n(4916),n(5306),n(1539),n(8862),n(6299)),y={data:function(){return{databaseTypes:[],pageData:{data:[],page:0,number:1,size:15,totalElements:0,totalPages:1},pageFilter:{page:0,size:10,databaseTypeContains:null},databaseTypeForm:{id:null,databaseType:null,icon:null,description:null,jdbcDriverFileUrl:null,jdbcDriverClassName:null,jdbcProtocol:null,urlPattern:""},formDataRule:{databaseType:[{required:!0,message:"请输入数据库类型名称",trigger:"blur"}],description:[{required:!0,message:"请输入描述内容",trigger:"blur"}],jdbcDriverFileUrl:[{required:!0,message:"请输入合法的驱动下载地址",trigger:"blur"}],jdbcDriverClassName:[{required:!0,message:"请输入合法的驱动类名",trigger:"blur"}],jdbcProtocol:[{required:!0,message:"请输入合法的 JDBC 协议头",trigger:"blur"}],urlPattern:[{required:!0,message:"请输入合法的 URL 模式",trigger:"blur"}]},isShowEditDialog:!1,constData:{urlPattern:"{{jdbc.protocol}}://{{db.url}}/{{db.name}}",availableVariables:[{name:"{{jdbc.protocol}}",description:"协议头，如 jdbc:mysql"},{name:"{{db.name}}",description:"数据库名称，如 public"},{name:"{{db.url}}",description:"数据库地址，如 127.0.0.1:3306"},{name:"{{db.schema}}",description:"schema 名称，如 user"}]},loadingClassName:!1,loadingSave:!1}},created:function(){this.fetchDatabaseTypes()},computed:{urlSample:function(){var e="127.0.0.1:3306",t="databasir",n="public",r=this.databaseTypeForm.jdbcProtocol?this.databaseTypeForm.jdbcProtocol:"jdbc:mysql";return this.databaseTypeForm.urlPattern.replace("{{jdbc.protocol}}",r).replace("{{db.name}}",t).replace("{{db.schema}}",n).replace("{{db.url}}",e)}},methods:{fetchDatabaseTypes:function(){var e=this;return(0,b.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,g.OE)(e.pageFilter);case 2:n=t.sent,e.pageData.data=n.data.content,e.pageData.number=n.data.number+1,e.pageData.size=n.data.size,e.pageData.totalPages=n.data.totalPages,e.pageData.totalElements=n.data.totalElements;case 8:case"end":return t.stop()}}),t)})))()},onDelete:function(e){var t=this;this.$confirm("确认删除该数据库类型吗？这将导致数据同步失败","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,g.ew)(e.id).then((function(e){e.errCode||(t.$message.success("删除成功"),t.onPageChange(1,!0))}))}))},onFormSave:function(){var e=this;this.$refs.formDataRef.validate((function(t){t?e.databaseTypeForm.id?e.onUpdate(e.databaseTypeForm):e.onCreate(e.databaseTypeForm):e.$message.error("请填写表单必填项")}))},onUpdate:function(){var e=this;this.loadingSave=!0,(0,g.r6)(this.databaseTypeForm).then((function(t){t.errCode||(e.$message.success("更新成功"),e.isShowEditDialog=!1,e.fetchDatabaseTypes())})).finally((function(){return e.loadingSave=!1}))},onCreate:function(){var e=this;this.loadingSave=!0,(0,g.wu)(this.databaseTypeForm).then((function(t){t.errCode||(e.$message.success("创建成功"),e.isShowEditDialog=!1,e.onPageChange(1,!0))})).finally((function(){return e.loadingSave=!1}))},onQuery:function(){this.fetchDatabaseTypes()},onPageChange:function(e,t){(e&&e-1!=this.pageFilter.page||t)&&(this.pageFilter.page=e-1,this.fetchDatabaseTypes())},toEditPage:function(e){e&&e.id?this.databaseTypeForm=JSON.parse(JSON.stringify(e)):(this.databaseTypeForm={},this.databaseTypeForm.urlPattern=this.constData.urlPattern),this.isShowEditDialog=!0},tableUrlSample:function(e){var t="127.0.0.1:3306",n="databasir";return e.urlPattern.replace("{{jdbc.protocol}}",e.jdbcProtocol).replace("{{db.name}}",n).replace("{{db.url}}",t)},autoObtainDriverClassName:function(){var e=this;if(this.databaseTypeForm.jdbcDriverFileUrl){this.loadingClassName=!0;var t={jdbcDriverFileUrl:this.databaseTypeForm.jdbcDriverFileUrl};(0,g.Zu)(t).then((function(t){t.errCode||(e.databaseTypeForm.jdbcDriverClassName=t.data,e.$message.success("获取成功"))})).finally((function(){e.loadingClassName=!1}))}else this.$message.warning("请求填写 JDBC 驱动下载地址")}}},w=n(3744);const h=(0,w.Z)(y,[["render",m]]);var v=h}}]);
//# sourceMappingURL=933-legacy.c8bb02ca.js.map