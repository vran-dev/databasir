{"version":3,"file":"js/314-legacy.c2e0f0f0.js","mappings":"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","sources":["webpack://databasir/./node_modules/core-js/modules/es.array.slice.js","webpack://databasir/./src/api/Group.js","webpack://databasir/./src/api/User.js","webpack://databasir/./src/api/UserProject.js","webpack://databasir/./src/views/GroupList.vue","webpack://databasir/./src/views/GroupList.vue?d658"],"sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar un$Slice = require('../internals/array-slice');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar Array = global.Array;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = lengthOfArrayLike(O);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (isConstructor(Constructor) && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return un$Slice(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","import axios from '@/utils/fetch';\r\n\r\nconst base = '/api/v1.0/groups'\r\n\r\nexport const listGroups = (pageQuery) => {\r\n    return axios.get(base, {\r\n        params: pageQuery\r\n    })\r\n}\r\n\r\nexport const getGroup= (id) => {\r\n    return axios.get(base + \"/\" + id)\r\n}\r\n\r\nexport const createOrUpdateGroup = (body) => {\r\n    if (body.id && body.id != null) {\r\n        return updateGroup(body)\r\n    } else {\r\n        return createGroup(body)\r\n    }\r\n}\r\n\r\nexport const createGroup = (body) => {\r\n    return axios.post(base, body)\r\n}\r\n\r\nexport const updateGroup = (body) => {\r\n    return axios.patch(base, body)\r\n}\r\n\r\nexport const deleteGroup = (id) => {\r\n    return axios.delete(base + '/' + id)\r\n}\r\n\r\nexport const listGroupMembers = (groupId, pageQuery) => {\r\n    return axios.get(base + '/' + groupId + '/members', {\r\n        params: pageQuery\r\n    })\r\n}\r\n\r\nexport const addGroupMember = (groupId, body) => {\r\n    return axios.post(base + '/' + groupId + '/members', body)\r\n}\r\n\r\nexport const removeGroupMember = (groupId, userId) => {\r\n    return axios.delete(base +'/'+groupId+'/members/'+userId)\r\n}\r\n\r\nexport const updateGroupMemberRole = (groupId, userId, role) => {\r\n    const body = {\r\n        role: role\r\n    }\r\n    return axios.patch(base +'/'+groupId+'/members/'+userId, body)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import axios from '@/utils/fetch';\r\n\r\nconst base = '/api/v1.0/users'\r\n\r\nexport const listUsers = (pageQuery) => {\r\n    return axios.get(base, {\r\n        params: pageQuery\r\n    })\r\n}\r\n\r\nexport const enableUser = (userId) => {\r\n    return axios.post(base+\"/\"+userId+\"/enable\")\r\n\r\n}\r\n\r\nexport const disableUser = (userId) => {\r\n    return axios.post(base+\"/\"+userId+\"/disable\")\r\n}\r\n\r\nexport const getByUserId = (userId) => {\r\n    return axios.get(base+\"/\"+userId)\r\n}\r\n\r\nexport const deleteByUserId = (userId) => {\r\n    return axios.delete(base+\"/\"+userId)\r\n}\r\n\r\nexport const createUser = (request) => {\r\n    return axios.post(base, request)\r\n}\r\n\r\nexport const renewPassword = (id) => {\r\n    return axios.post(base +'/' + id +'/renew_password')\r\n}\r\n\r\nexport const addSysOwnerTo = (userId) => {\r\n    return axios.post(base +'/' + userId +'/sys_owners')\r\n}\r\n\r\nexport const removeSysOwnerFrom = (userId) => {\r\n    return axios.delete(base +'/' + userId +'/sys_owners')\r\n}\r\n\r\nexport const updatePassword = (userId, body) => {\r\n    return axios.post(base +'/' + userId +'/password', body)\r\n}\r\n\r\nexport const updateNickname = (userId, body) => {\r\n    return axios.post(base +'/' + userId +'/nickname', body)\r\n}","import axios from '@/utils/fetch';\r\n\r\nconst base = '/api/v1.0/user_projects/favorites'\r\n\r\nexport const listFavorites = (pageQuery) => {\r\n    return axios.get(base, {\r\n        params: pageQuery\r\n    })\r\n}\r\n\r\nexport const removeFavorite = (projectId) => {\r\n    return axios.delete(base + \"/\" + projectId)\r\n}\r\n\r\nexport const addFavorite = (projectId) => {\r\n    return axios.post(base +'/' + projectId)\r\n}","<template>\r\n    <el-tabs v-model=\"activeTab\" @tab-click=\"onTabClick\">\r\n        <el-tab-pane label=\"项目分组\" name=\"groupListTab\">\r\n            <el-container>\r\n                <el-main>\r\n                    <el-row :gutter=\"12\">\r\n                        <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"5\" :xl=\"3\"  v-require-roles=\"['SYS_OWNER']\">\r\n                            <el-tooltip content=\"创建一个分组\" placement=\"top\">\r\n                                <el-button type=\"plain\"  icon=\"plus\"  style=\"width:100%;\" @click=\"toCreatePage()\"></el-button>\r\n                            </el-tooltip>\r\n                        </el-col>\r\n                        <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"8\" :xl=\"8\" >\r\n                            <el-input @change='onQuery' v-model=\"groupPageQuery.groupNameContains\" label=\"组名\" placeholder=\"组名称搜索\" prefix-icon=\"search\"/>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row v-if=\"groupPageData.data.length == 0\">\r\n                        <el-col>\r\n                            <el-empty description=\"请先创建分组\"></el-empty>\r\n                        </el-col>\r\n                    </el-row>\r\n                    <el-row v-else :gutter=\"20\" >\r\n                        <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"8\" :xl=\"6\"  v-for=\"(group) in groupPageData.data\" :key=\"group.id\" style=\"margin-bottom:20px;\">\r\n                            <el-card shadow=\"hover\" @mouseenter=\"mouseEnterGroupId=group.id\" @mouseleave=\"mouseEnterGroupId=null\" @click=\"toGroupDashboard(group.id, group.name)\" class=\"box\">\r\n                                <div style=\"display:flex;justify-content: space-between;\">\r\n                                    <el-link :underline=\"false\" >\r\n                                        <div @click=\"toGroupDashboard(group.id, group.name)\" style=\"margin: 0 auto;\">\r\n                                            <h4>{{ group.name }}</h4> \r\n                                        </div>\r\n                                    </el-link>\r\n                                    <el-link :underline=\"false\" \r\n                                        v-show=\"group.id == mouseEnterGroupId\" \r\n                                        v-require-roles=\"['SYS_OWNER', 'GROUP_OWNER?groupId='+group.id]\" \r\n                                        v-on:click.stop=\"toEditPage(group.id, group.name)\"\r\n                                        icon=\"Edit\"\r\n                                        style=\"margin-left: 8px;\" >\r\n                                    </el-link>\r\n                                </div>\r\n                                <el-space direction=\"vertical\" alignment=\"stretch\" :size=\"16\">\r\n                                        <span style=\"color:#909399;font-size:13px;\">\r\n                                            {{ group.description }}\r\n                                        </span>\r\n                                        <el-space wrap>\r\n                                            <el-tooltip content=\"组长\">\r\n                                                <el-icon color=\"#909399\"><user /></el-icon>\r\n                                            </el-tooltip>\r\n                                            <el-tag v-for=\"(owner, index) in group.groupOwnerNames.slice(0, 2)\" :key=\"index\"  type=\"info\"> {{ owner }}</el-tag>\r\n                                            <template v-if=\"group.groupOwnerNames.length > 2\">\r\n                                                <el-dropdown>\r\n                                                    <el-icon class=\"el-icon--right\">\r\n                                                        <arrow-down />\r\n                                                    </el-icon>\r\n                                                    <template #dropdown>\r\n                                                    <el-dropdown-menu>\r\n                                                        <el-dropdown-item v-for=\"(owner, index) in group.groupOwnerNames.slice(2)\" :key=\"index\">\r\n                                                            <el-tag type=\"info\">{{ owner }}</el-tag>\r\n                                                        </el-dropdown-item>\r\n                                                    </el-dropdown-menu>\r\n                                                    </template>\r\n                                                </el-dropdown>\r\n                                            </template>\r\n                                        </el-space>\r\n                                        <el-space wrap>\r\n                                            <el-tooltip content=\"项目数\">\r\n                                                <el-icon color=\"#909399\"><folder /></el-icon>\r\n                                            </el-tooltip>\r\n                                            <span style=\"color:#909399\">\r\n                                                {{ group.projectCount }}\r\n                                            </span>\r\n                                        </el-space>\r\n                                </el-space>\r\n                            </el-card>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-main>\r\n                <el-footer>\r\n                    <el-pagination layout=\"prev, pager, next\" \r\n                        :hide-on-single-page=\"false\"\r\n                        :currentPage=\"groupPageData.number\" \r\n                        :page-size=\"groupPageData.size\" \r\n                        :page-count=\"groupPageData.totalPages\"\r\n                        @current-change=\"onPageChange\">\r\n                    </el-pagination>\r\n                </el-footer>\r\n            </el-container>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"关注项目\" name=\"favoriteProjectListTab\">\r\n            <el-container>\r\n                <el-main>\r\n                    <el-table :data=\"favoriteProjectPageData.data\"  stripe>\r\n                        <el-table-column prop=\"projectId\" label=\"项目 ID\"/>\r\n                        <el-table-column prop=\"projectName\" label=\"项目名称\" >\r\n                            <template v-slot=\"scope\">\r\n                                <el-link @click=\"toDocumentPage(scope.row)\">\r\n                                    <span>{{ scope.row.projectName }}</span>\r\n                                </el-link>\r\n                            </template>\r\n                            \r\n                        </el-table-column>\r\n                        <el-table-column prop=\"projectDescription\" label=\"项目描述\" />\r\n                        <el-table-column label=\"定时同步\" align=\"center\">\r\n                            <template v-slot=\"scope\">\r\n                                <el-tag v-if=\"scope.row.isAutoSync\">\r\n                                    {{ scope.row.autoSyncCron }}\r\n                                </el-tag>\r\n                                <span v-else>\r\n                                    无\r\n                                </span>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column label=\"数据库类型\">\r\n                            <template v-slot=\"scope\">\r\n                                <database-icon :databaseType=\"scope.row.databaseType\" :icon=\"scope.row.icon\"/>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"databaseName\" label=\"数据库名称\" />\r\n                        <el-table-column prop=\"groupName\" label=\"所属分组\">\r\n                            <template v-slot=\"scope\">\r\n                                <el-link @click=\"toGroupDashboard(scope.row.groupId, scope.row.groupName)\" icon=\"List\">\r\n                                    {{ scope.row.groupName }}\r\n                                </el-link>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"createAt\" label=\"关注时间\" />\r\n                        <el-table-column label=\"操作\" >\r\n                            <template v-slot=\"scope\">\r\n                                <el-dropdown>\r\n                                    <span>\r\n                                        更多\r\n                                    <el-icon >\r\n                                        <arrow-down />\r\n                                    </el-icon>\r\n                                    </span>\r\n                                    <template #dropdown>\r\n                                    <el-dropdown-menu>\r\n                                        <el-dropdown-item>\r\n                                            <el-button type=\"primary\" size=\"small\" @click.stop=\"toDocumentPage(scope.row)\" icon=\"View\">查看文档</el-button>\r\n                                        </el-dropdown-item>\r\n                                        <el-dropdown-item>\r\n                                            <el-button type=\"warning\" size=\"small\" @click.stop=\"onRemoveFavorite(scope.row.projectId)\" icon=\"StarFilled\">取消关注</el-button>\r\n                                        </el-dropdown-item>\r\n                                        <el-dropdown-item v-require-roles=\"['SYS_OWNER', 'GROUP_OWNER?groupId='+groupId]\">\r\n                                            <el-button type=\"danger\" size=\"small\" @click.stop=\"onProjectDelete(scope.row.projectId)\" icon=\"Remove\">删除项目</el-button>\r\n                                        </el-dropdown-item>\r\n                                    </el-dropdown-menu>\r\n                                    </template>\r\n                                </el-dropdown>\r\n                            </template>\r\n                        </el-table-column>\r\n                    </el-table>\r\n                </el-main>\r\n                <el-footer>\r\n                    <el-pagination layout=\"prev, pager, next\" \r\n                        :hide-on-single-page=\"false\"\r\n                        :currentPage=\"favoriteProjectPageData.number\" \r\n                        :page-size=\"favoriteProjectPageData.size\" \r\n                        :page-count=\"favoriteProjectPageData.totalPages\"\r\n                        @current-change=\"onFavoriteProjectPageChange\">\r\n                    </el-pagination>\r\n                </el-footer>\r\n            </el-container>\r\n            \r\n        </el-tab-pane>\r\n    </el-tabs>\r\n\r\n    <el-dialog v-model=\"isShowEditGroupDialog\" center destroy-on-close :width=\"dialogWidth()\">\r\n        <el-form :model=\"groupData\" :rules=\"groupDataRule\" ref=\"groupFormRef\" label-position=\"top\">\r\n            <el-form-item label=\"名称\"  prop=\"name\">\r\n                <el-input v-model=\"groupData.name\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"描述\" prop=\"description\">\r\n                <el-input v-model=\"groupData.description\" type=\"textarea\"></el-input>\r\n            </el-form-item>\r\n\r\n            <h2>组长管理</h2>\r\n            <el-form-item>\r\n                <el-autocomplete\r\n                    v-model=\"userQueryData.nicknameOrUsernameOrEmailContains\"\r\n                    :fetch-suggestions=\"queryUsersAsync\"\r\n                    placeholder=\"用户名、昵称或邮箱搜索\"\r\n                    @select=\"onGroupOwnerSelect\"\r\n                    clearable\r\n                >\r\n                </el-autocomplete>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-space wrap>\r\n                <el-tag\r\n                v-for=\"(user, index) in groupData.groupOwners\"\r\n                :key=\"user.id\"\r\n                type=\"primary\"\r\n                size=\"large\"\r\n                closable\r\n                :disable-transitions=\"false\"\r\n                @close=\"onGroupOwnerRemove(index)\"\r\n                >\r\n                <el-tooltip :content=\"user.email\" placement=\"top\">\r\n                    <span>{{ user.nickname }}</span>\r\n                </el-tooltip>\r\n                </el-tag>\r\n                </el-space>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button type=\"primary\" @click=\"onGroupSave('groupFormRef')\">保存</el-button>\r\n                <el-button @click=\"isShowEditGroupDialog = false\">取消</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n        <el-collapse v-if=\"groupData.id\">\r\n            <el-collapse-item name=\"1\">\r\n                <template #title><el-icon><warning-filled /></el-icon>删除分组</template>\r\n                <el-tooltip content=\"数据一旦删除将无法恢复，谨慎操作\" placement=\"top\">\r\n                    <el-button icon=\"delete\" size=\"large\" style=\"width:100%;margin:0 auto;\" @click=\"onGroupDelete(groupData.id)\">确认删除分组</el-button>\r\n                </el-tooltip>\r\n            </el-collapse-item>\r\n        </el-collapse>\r\n    </el-dialog>\r\n</template>\r\n\r\n<style>\r\n.card-footer {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-top: 22px;\r\n}\r\n\r\n.el-row {\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.el-row:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.el-col {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.box {\r\n    border-radius: 6px;\r\n    border-width:1px;\r\n}\r\n\r\n</style>\r\n\r\n<script>\r\nimport { listGroups, getGroup, createOrUpdateGroup, deleteGroup } from \"@/api/Group\"\r\nimport { listUsers } from \"@/api/User\"\r\nimport { listFavorites, removeFavorite } from \"../api/UserProject\"\r\nimport { deleteProjectById } from \"../api/Project\"\r\nimport { user } from '../utils/auth'\r\nimport { dialogPercentWidth } from \"../utils/DialogWidthCalculator\"\r\n\r\nexport default {\r\n    data() {\r\n      return {\r\n          isShowEditGroupDialog: false,\r\n          mouseEnterGroupId: null,\r\n          groupData: {\r\n              groupOwners: []\r\n          },\r\n          groupDataRule: {\r\n            name: [this.requiredInputValidRule('请输入有效昵称')],\r\n          },\r\n          userQueryData: {\r\n              nicknameContains: null,\r\n              nicknameOrUsernameOrEmailContains: null,\r\n              size: 50\r\n          },\r\n          groupPageData: {\r\n             data: [],\r\n             number: 1,\r\n             size: 8,\r\n             totalElements:0,\r\n             totalPages: 0\r\n          },\r\n          groupPageQuery: {\r\n            page: 0,\r\n            size: 12,\r\n            groupNameContains: null\r\n          },\r\n\r\n          favoriteProjectPageData: {\r\n            data: [],\r\n            number: 1,\r\n            size: 15,\r\n            totalElements:0,\r\n            totalPages: 0\r\n          },\r\n          favoriteProjectPageQuery: {\r\n            page: 0,\r\n            size: 20,\r\n            projectNameContains: null\r\n          }\r\n      }\r\n    },\r\n    \r\n    created() {\r\n        this.fetchGroupsFunction()\r\n        this.onFavoriteProjectPageChange(1)\r\n    },\r\n\r\n    computed: {\r\n        activeTab: {\r\n            get(){\r\n                if (this.$store.state.groupListActiveTab) {\r\n                    return this.$store.state.groupListActiveTab\r\n                } else {\r\n                    this.$store.commit('switchGroupListActiveTab', 'groupListTab')\r\n                    return \"groupListTab\"\r\n                }\r\n            },\r\n            set(newVal) {\r\n                this.$store.commit('switchGroupListActiveTab', newVal)\r\n            }\r\n        }\r\n    },\r\n        \r\n    methods: {\r\n        isPermit(role) {\r\n            return user.hasAnyRoles([ role ])\r\n        },\r\n        async fetchUserFavorites() {\r\n            const jsonData = await listFavorites(this.favoriteProjectPageQuery)\r\n            this.favoriteProjectPageData.data = jsonData.data.content\r\n            this.favoriteProjectPageData.number = jsonData.data.number + 1\r\n            this.favoriteProjectPageData.size = jsonData.data.size\r\n            this.favoriteProjectPageData.totalPages = jsonData.data.totalPages\r\n            this.favoriteProjectPageData.totalElements = jsonData.data.totalElements\r\n        },\r\n        async fetchGroupsFunction() {\r\n            const jsonData = await listGroups(this.groupPageQuery)\r\n            this.groupPageData.data = jsonData.data.content\r\n            this.groupPageData.number = jsonData.data.number + 1\r\n            this.groupPageData.size = jsonData.data.size\r\n            this.groupPageData.totalPages = jsonData.data.totalPages\r\n            this.groupPageData.totalElements = jsonData.data.totalElements\r\n        },\r\n        requiredInputValidRule(message) {\r\n            return {\r\n                required: true,\r\n                message: message,\r\n                trigger: 'blur',\r\n            }\r\n        },\r\n        requiredGroupOwners() {\r\n            if (this.groupData.groupOwners == null \r\n            || this.groupData.groupOwners.length < 1\r\n            || this.groupData.groupOwners.length > 20) {\r\n                return false\r\n            } else {\r\n                return true\r\n            }\r\n        },\r\n        onPageChange(currentPage) {\r\n            if (currentPage) {\r\n                this.groupPageQuery.page = currentPage - 1\r\n                this.fetchGroupsFunction()\r\n            }\r\n        },\r\n\r\n        onQuery() {\r\n            this.fetchGroupsFunction()\r\n        },\r\n        async queryUsersAsync(query, callback) {\r\n            const data = await listUsers(this.userQueryData).then(resp => resp.data.content)\r\n            const users = data.map(u => {\r\n                return {\r\n                    value: u.nickname,\r\n                    nickname: u.nickname,\r\n                    email: u.email,\r\n                    id: u.id\r\n                }\r\n            })\r\n            callback(users)\r\n        },\r\n\r\n        onGroupDelete(groupId) {\r\n            this.$confirm('确认删除该分组？删除后数据将无法恢复', '警告', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                deleteGroup(groupId).then(resp => {\r\n                    if (!resp.errCode) {\r\n                        this.$message.success('删除成功')\r\n                        this.isShowEditGroupDialog = false\r\n                        this.fetchGroupsFunction()\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        onGroupSave() {\r\n            if (!this.requiredGroupOwners()) {\r\n                this.$message.warning('组长人数至少需要 1 人，最多为 20 人')\r\n                return\r\n            }\r\n            this.$refs.groupFormRef.validate(valid => {\r\n                if (valid) {\r\n                    const request = Object.assign({}, this.groupData)\r\n                    request.groupOwnerUserIds = this.groupData.groupOwners.map(r => r.id)\r\n                    createOrUpdateGroup(request).then(resp => {\r\n                        if (!resp.errCode) {\r\n                            this.$message.success('保存成功')\r\n                            this.isShowEditGroupDialog = false\r\n                            this.groupData = { groupOwners: [] }\r\n                            this.fetchGroupsFunction()\r\n                        }\r\n                    })\r\n                } else {\r\n                    this.$message.error('请填写表单必填项')\r\n                }\r\n            })\r\n            \r\n        },\r\n\r\n        onGroupOwnerRemove(index) {\r\n            this.groupData.groupOwners.splice(index, 1)\r\n        },\r\n        onGroupOwnerSelect(item) {\r\n            if (!this.groupData.groupOwners.some(data => data.id == item.id)) {\r\n                this.groupData.groupOwners.push(item)\r\n            }\r\n        \r\n            this.userQueryData.nicknameOrUsernameOrEmailContains = null\r\n        },\r\n        toCreatePage() {\r\n            this.isShowEditGroupDialog = true\r\n            this.groupData = { groupOwners: [] }\r\n        },\r\n        toEditPage(groupId) {\r\n            getGroup(groupId).then(resp => {\r\n                if(!resp.errCode) {\r\n                    this.isShowEditGroupDialog = true\r\n                    this.groupData = resp.data\r\n                }\r\n            })\r\n        },\r\n        toGroupDashboard(groupId, groupName) {\r\n            this.$router.push({path: \"/groups/\"+groupId, query: {groupName: groupName }})\r\n        },\r\n\r\n        toDocumentPage(favoriteProject) {\r\n            const groupId = favoriteProject.groupId\r\n            const projectId = favoriteProject.projectId\r\n            this.$router.push({\r\n                path: \"/groups/\" + groupId + \"/projects/\" + projectId +  \"/documents\",\r\n                query: { projectName: favoriteProject.projectName, groupName: favoriteProject.groupName }\r\n            })\r\n        },\r\n        onFavoriteProjectPageChange(currentPage) {\r\n            if (currentPage) {\r\n                this.favoriteProjectPageQuery.page = currentPage - 1\r\n                this.fetchUserFavorites()\r\n            }\r\n        },\r\n        onRemoveFavorite(projectId) {\r\n            removeFavorite(projectId).then(resp => {\r\n                if (!resp.errCode) {\r\n                    this.$message.success('成功取消')\r\n                    this.fetchUserFavorites()\r\n                }\r\n            })\r\n        },\r\n        onProjectDelete(id) {\r\n            this.$confirm('确认删除该项目？', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                deleteProjectById(this.groupId, id).then(resp => {\r\n                    if (!resp.errCode) {\r\n                        this.$message.success('删除成功');\r\n                        this.fetchUserFavorites()\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        onTabClick(tab) {\r\n            this.$store.commit('switchGroupListActiveTab', tab.props.name)\r\n        },\r\n        dialogWidth() {\r\n            return dialogPercentWidth()\r\n        }\r\n    }\r\n}\r\n\r\n</script>","import { render } from \"./GroupList.vue?vue&type=template&id=09d42977\"\nimport script from \"./GroupList.vue?vue&type=script&lang=js\"\nexport * from \"./GroupList.vue?vue&type=script&lang=js\"\n\nimport \"./GroupList.vue?vue&type=style&index=0&id=09d42977&lang=css\"\n\nimport exportComponent from \"D:\\\\workspace\\\\github\\\\databasir\\\\databasir-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["$","global","isArray","isConstructor","isObject","toAbsoluteIndex","lengthOfArrayLike","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","un$Slice","HAS_SPECIES_SUPPORT","SPECIES","Array","max","Math","target","proto","forced","slice","start","end","Constructor","result","n","O","this","length","k","fin","undefined","constructor","prototype","base","listGroups","pageQuery","axios","params","getGroup","id","createOrUpdateGroup","body","updateGroup","createGroup","deleteGroup","listGroupMembers","groupId","addGroupMember","removeGroupMember","userId","updateGroupMemberRole","role","listUsers","enableUser","disableUser","getByUserId","deleteByUserId","createUser","request","renewPassword","addSysOwnerTo","removeSysOwnerFrom","updatePassword","updateNickname","listFavorites","removeFavorite","projectId","addFavorite","style","_createElementVNode","_createVNode","_component_el_tabs","$options","$event","onTabClick","_component_el_tab_pane","label","name","_component_el_container","_component_el_main","_component_el_row","gutter","_createBlock","_component_el_col","xs","sm","md","lg","xl","_component_el_tooltip","content","placement","_component_el_button","type","icon","onClick","_component_el_input","onChange","$data","groupNameContains","placeholder","data","key","_component_el_empty","description","_createElementBlock","_Fragment","_renderList","group","_component_el_card","shadow","onMouseenter","onMouseleave","class","_component_el_link","underline","_toDisplayString","_component_el_space","direction","alignment","size","wrap","_component_el_icon","color","_component_user","groupOwnerNames","owner","index","_component_el_tag","_component_el_dropdown","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","_component_arrow_down","_component_folder","projectCount","_component_el_footer","_component_el_pagination","layout","currentPage","number","totalPages","onCurrentChange","_component_el_table","stripe","_component_el_table_column","prop","scope","row","projectName","align","isAutoSync","autoSyncCron","_hoisted_5","_component_database_icon","databaseType","groupName","_ctx","_component_el_dialog","center","width","_component_el_form","model","rules","ref","_component_el_form_item","_hoisted_10","_component_el_autocomplete","nicknameOrUsernameOrEmailContains","onSelect","clearable","groupOwners","user","closable","onClose","email","nickname","_component_el_collapse","_component_el_collapse_item","title","_component_warning_filled","isShowEditGroupDialog","mouseEnterGroupId","groupData","groupDataRule","requiredInputValidRule","userQueryData","nicknameContains","groupPageData","totalElements","groupPageQuery","page","favoriteProjectPageData","favoriteProjectPageQuery","projectNameContains","created","fetchGroupsFunction","onFavoriteProjectPageChange","computed","activeTab","get","$store","state","groupListActiveTab","commit","set","newVal","methods","isPermit","fetchUserFavorites","jsonData","message","required","trigger","requiredGroupOwners","onPageChange","onQuery","queryUsersAsync","query","callback","then","resp","users","map","u","value","onGroupDelete","$confirm","confirmButtonText","cancelButtonText","errCode","$message","success","onGroupSave","$refs","groupFormRef","validate","valid","Object","assign","groupOwnerUserIds","r","error","warning","onGroupOwnerRemove","splice","onGroupOwnerSelect","item","some","push","toCreatePage","toEditPage","toGroupDashboard","$router","path","toDocumentPage","favoriteProject","onRemoveFavorite","onProjectDelete","deleteProjectById","tab","props","dialogWidth","dialogPercentWidth","__exports__","render"],"sourceRoot":""}