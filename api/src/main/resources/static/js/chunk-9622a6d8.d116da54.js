(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9622a6d8"],{"057f":function(e,t,n){var o=n("c6b6"),r=n("fc6a"),c=n("241c").f,a=n("4dae"),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return c(e)}catch(t){return a(u)}};e.exports.f=function(e){return u&&"Window"==o(e)?l(e):c(r(e))}},"0db5":function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return f}));var o=n("1c1e"),r="/api/v1.0/projects",c=function(e){return o["a"].get(r,{params:e})},a=function(e){return o["a"].get(r+"/"+e)},u=function(e){return e.id?s(e):l(e)},l=function(e){return o["a"].post(r,e)},i=function(e){return o["a"].post(r+"/test_connection",e)},d="/api/v1.0/groups",s=function(e){return o["a"].patch(d+"/"+e.groupId+"/projects",e)},f=function(e,t){return o["a"].delete(d+"/"+e+"/projects/"+t)}},"428f":function(e,t,n){var o=n("da84");e.exports=o},"4dae":function(e,t,n){var o=n("da84"),r=n("23cb"),c=n("07fa"),a=n("8418"),u=o.Array,l=Math.max;e.exports=function(e,t,n){for(var o=c(e),i=r(t,o),d=r(void 0===n?o:n,o),s=u(l(d-i,0)),f=0;i<d;i++,f++)a(s,f,e[i]);return s.length=f,s}},"746f":function(e,t,n){var o=n("428f"),r=n("1a2d"),c=n("e5383"),a=n("9bf2").f;e.exports=function(e){var t=o.Symbol||(o.Symbol={});r(t,e)||a(t,e,{value:c.f(e)})}},8418:function(e,t,n){"use strict";var o=n("a04b"),r=n("9bf2"),c=n("5c6c");e.exports=function(e,t,n){var a=o(t);a in e?r.f(e,a,c(0,n)):e[a]=n}},a434:function(e,t,n){"use strict";var o=n("23e7"),r=n("da84"),c=n("23cb"),a=n("5926"),u=n("07fa"),l=n("7b0b"),i=n("65f0"),d=n("8418"),s=n("1dde"),f=s("splice"),b=r.TypeError,p=Math.max,m=Math.min,j=9007199254740991,O="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,o,r,s,f,C,h=l(this),y=u(h),g=c(e,y),V=arguments.length;if(0===V?n=o=0:1===V?(n=0,o=y-g):(n=V-2,o=m(p(a(t),0),y-g)),y+n-o>j)throw b(O);for(r=i(h,o),s=0;s<o;s++)f=g+s,f in h&&d(r,s,h[f]);if(r.length=o,n<o){for(s=g;s<y-o;s++)f=s+o,C=s+n,f in h?h[C]=h[f]:delete h[C];for(s=y;s>y-o+n;s--)delete h[s-1]}else if(n>o)for(s=y-o;s>g;s--)f=s+o-1,C=s+n-1,f in h?h[C]=h[f]:delete h[C];for(s=0;s<n;s++)h[s+g]=arguments[s+2];return h.length=y-o+n,r}})},a4d3:function(e,t,n){"use strict";var o=n("23e7"),r=n("da84"),c=n("d066"),a=n("2ba4"),u=n("c65b"),l=n("e330"),i=n("c430"),d=n("83ab"),s=n("4930"),f=n("d039"),b=n("1a2d"),p=n("e8b5"),m=n("1626"),j=n("861d"),O=n("3a9b"),C=n("d9b5"),h=n("825a"),y=n("7b0b"),g=n("fc6a"),V=n("a04b"),N=n("577e"),v=n("5c6c"),w=n("7c73"),x=n("df75"),S=n("241c"),k=n("057f"),_=n("7418"),T=n("06cf"),R=n("9bf2"),B=n("d1e7"),I=n("f36a"),U=n("6eeb"),P=n("5692"),z=n("f772"),E=n("d012"),F=n("90e3"),M=n("b622"),D=n("e5383"),A=n("746f"),q=n("d44e"),J=n("69f3"),L=n("b727").forEach,$=z("hidden"),K="Symbol",Q="prototype",W=M("toPrimitive"),G=J.set,H=J.getterFor(K),X=Object[Q],Y=r.Symbol,Z=Y&&Y[Q],ee=r.TypeError,te=r.QObject,ne=c("JSON","stringify"),oe=T.f,re=R.f,ce=k.f,ae=B.f,ue=l([].push),le=P("symbols"),ie=P("op-symbols"),de=P("string-to-symbol-registry"),se=P("symbol-to-string-registry"),fe=P("wks"),be=!te||!te[Q]||!te[Q].findChild,pe=d&&f((function(){return 7!=w(re({},"a",{get:function(){return re(this,"a",{value:7}).a}})).a}))?function(e,t,n){var o=oe(X,t);o&&delete X[t],re(e,t,n),o&&e!==X&&re(X,t,o)}:re,me=function(e,t){var n=le[e]=w(Z);return G(n,{type:K,tag:e,description:t}),d||(n.description=t),n},je=function(e,t,n){e===X&&je(ie,t,n),h(e);var o=V(t);return h(n),b(le,o)?(n.enumerable?(b(e,$)&&e[$][o]&&(e[$][o]=!1),n=w(n,{enumerable:v(0,!1)})):(b(e,$)||re(e,$,v(1,{})),e[$][o]=!0),pe(e,o,n)):re(e,o,n)},Oe=function(e,t){h(e);var n=g(t),o=x(n).concat(Ve(n));return L(o,(function(t){d&&!u(he,n,t)||je(e,t,n[t])})),e},Ce=function(e,t){return void 0===t?w(e):Oe(w(e),t)},he=function(e){var t=V(e),n=u(ae,this,t);return!(this===X&&b(le,t)&&!b(ie,t))&&(!(n||!b(this,t)||!b(le,t)||b(this,$)&&this[$][t])||n)},ye=function(e,t){var n=g(e),o=V(t);if(n!==X||!b(le,o)||b(ie,o)){var r=oe(n,o);return!r||!b(le,o)||b(n,$)&&n[$][o]||(r.enumerable=!0),r}},ge=function(e){var t=ce(g(e)),n=[];return L(t,(function(e){b(le,e)||b(E,e)||ue(n,e)})),n},Ve=function(e){var t=e===X,n=ce(t?ie:g(e)),o=[];return L(n,(function(e){!b(le,e)||t&&!b(X,e)||ue(o,le[e])})),o};if(s||(Y=function(){if(O(Z,this))throw ee("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?N(arguments[0]):void 0,t=F(e),n=function(e){this===X&&u(n,ie,e),b(this,$)&&b(this[$],t)&&(this[$][t]=!1),pe(this,t,v(1,e))};return d&&be&&pe(X,t,{configurable:!0,set:n}),me(t,e)},Z=Y[Q],U(Z,"toString",(function(){return H(this).tag})),U(Y,"withoutSetter",(function(e){return me(F(e),e)})),B.f=he,R.f=je,T.f=ye,S.f=k.f=ge,_.f=Ve,D.f=function(e){return me(M(e),e)},d&&(re(Z,"description",{configurable:!0,get:function(){return H(this).description}}),i||U(X,"propertyIsEnumerable",he,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:Y}),L(x(fe),(function(e){A(e)})),o({target:K,stat:!0,forced:!s},{for:function(e){var t=N(e);if(b(de,t))return de[t];var n=Y(t);return de[t]=n,se[n]=t,n},keyFor:function(e){if(!C(e))throw ee(e+" is not a symbol");if(b(se,e))return se[e]},useSetter:function(){be=!0},useSimple:function(){be=!1}}),o({target:"Object",stat:!0,forced:!s,sham:!d},{create:Ce,defineProperty:je,defineProperties:Oe,getOwnPropertyDescriptor:ye}),o({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ge,getOwnPropertySymbols:Ve}),o({target:"Object",stat:!0,forced:f((function(){_.f(1)}))},{getOwnPropertySymbols:function(e){return _.f(y(e))}}),ne){var Ne=!s||f((function(){var e=Y();return"[null]"!=ne([e])||"{}"!=ne({a:e})||"{}"!=ne(Object(e))}));o({target:"JSON",stat:!0,forced:Ne},{stringify:function(e,t,n){var o=I(arguments),r=t;if((j(t)||void 0!==e)&&!C(e))return p(t)||(t=function(e,t){if(m(r)&&(t=u(r,this,e,t)),!C(t))return t}),o[1]=t,a(ne,null,o)}})}if(!Z[W]){var ve=Z.valueOf;U(Z,W,(function(e){return u(ve,this)}))}q(Y,K),E[$]=!0},b66b:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=["mysql","postgresql"]},e01a:function(e,t,n){"use strict";var o=n("23e7"),r=n("83ab"),c=n("da84"),a=n("e330"),u=n("1a2d"),l=n("1626"),i=n("3a9b"),d=n("577e"),s=n("9bf2").f,f=n("e893"),b=c.Symbol,p=b&&b.prototype;if(r&&l(b)&&(!("description"in p)||void 0!==b().description)){var m={},j=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),t=i(p,this)?new b(e):void 0===e?b():b(e);return""===e&&(m[t]=!0),t};f(j,b),j.prototype=p,p.constructor=j;var O="Symbol(test)"==String(b("test")),C=a(p.toString),h=a(p.valueOf),y=/^Symbol\((.*)\)[^)]+$/,g=a("".replace),V=a("".slice);s(p,"description",{configurable:!0,get:function(){var e=h(this),t=C(e);if(u(m,e))return"";var n=O?V(t,7,-1):g(t,y,"$1");return""===n?void 0:n}}),o({global:!0,forced:!0},{Symbol:j})}},e5383:function(e,t,n){var o=n("b622");t.f=o},e958:function(e,t,n){"use strict";n.r(t);n("b0c0"),n("a4d3"),n("e01a");var o=n("7a23"),r=Object(o["createElementVNode"])("h2",null,"基础信息",-1),c=Object(o["createElementVNode"])("h2",null,"连接配置",-1),a=Object(o["createTextVNode"])("- 删除"),u=Object(o["createTextVNode"])("+ 添加"),l=Object(o["createTextVNode"])("+ 添加"),i=Object(o["createTextVNode"])(" 测试连接 "),d=Object(o["createElementVNode"])("h2",null,"同步规则",-1),s=Object(o["createTextVNode"])("- 删除"),f=Object(o["createTextVNode"])("+ 添加"),b=Object(o["createTextVNode"])("+ 添加"),p=Object(o["createTextVNode"])("- 删除"),m=Object(o["createTextVNode"])("+ 添加"),j=Object(o["createTextVNode"])("+ 添加"),O=Object(o["createTextVNode"])("保存"),C=Object(o["createTextVNode"])("取消");function h(e,t,n,h,y,g){var V=Object(o["resolveComponent"])("el-input"),N=Object(o["resolveComponent"])("el-form-item"),v=Object(o["resolveComponent"])("el-col"),w=Object(o["resolveComponent"])("el-option"),x=Object(o["resolveComponent"])("el-select"),S=Object(o["resolveComponent"])("el-row"),k=Object(o["resolveComponent"])("el-button"),_=Object(o["resolveComponent"])("check"),T=Object(o["resolveComponent"])("el-icon"),R=Object(o["resolveComponent"])("close"),B=Object(o["resolveComponent"])("el-link"),I=Object(o["resolveComponent"])("el-tab-pane"),U=Object(o["resolveComponent"])("el-switch"),P=Object(o["resolveComponent"])("el-space"),z=Object(o["resolveComponent"])("el-tabs"),E=Object(o["resolveComponent"])("el-divider"),F=Object(o["resolveComponent"])("el-form"),M=Object(o["resolveComponent"])("el-main"),D=Object(o["resolveComponent"])("el-continer");return Object(o["openBlock"])(),Object(o["createBlock"])(D,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(M,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(F,{model:h.form,"label-position":"top",rules:h.formRules,ref:"ruleFormRef"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(z,{type:"border-card"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(I,{label:"基础配置"},{default:Object(o["withCtx"])((function(){return[r,Object(o["createVNode"])(N,{label:"名称",prop:"name"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(V,{modelValue:h.form.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.form.name=e}),placeholder:"项目名称"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(N,{label:"描述",prop:"description"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(V,{modelValue:h.form.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return h.form.description=e}),type:"textarea",placeholder:"项目描述"},null,8,["modelValue"])]})),_:1}),c,Object(o["createVNode"])(N,{label:"用户名",prop:"dataSource.username"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(V,{modelValue:h.form.dataSource.username,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.form.dataSource.username=e}),placeholder:"root"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(N,{label:"密码",prop:"dataSource.password"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(V,{modelValue:h.form.dataSource.password,"onUpdate:modelValue":t[3]||(t[3]=function(e){return h.form.dataSource.password=e}),placeholder:"**********",type:e.password,"show-password":""},null,8,["modelValue","type"])]})),_:1}),Object(o["createVNode"])(N,{label:"地址",prop:"dataSource.url"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(V,{modelValue:h.form.dataSource.url,"onUpdate:modelValue":t[4]||(t[4]=function(e){return h.form.dataSource.url=e}),placeholder:"127.0.0.1:3306"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(S,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{span:8},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(N,{label:"数据库",prop:"dataSource.databaseName"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(V,{modelValue:h.form.dataSource.databaseName,"onUpdate:modelValue":t[5]||(t[5]=function(e){return h.form.dataSource.databaseName=e}),placeholder:"需要同步的数据库名称"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(o["createVNode"])(v,{span:8,offset:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(N,{label:"数据库类型",prop:"dataSource.databaseType"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(x,{modelValue:h.form.dataSource.databaseType,"onUpdate:modelValue":t[6]||(t[6]=function(e){return h.form.dataSource.databaseType=e}),placeholder:"选择数据库类型",clearable:""},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(h.databaseTypes,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(w,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(h.form.dataSource.properties,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(N,{label:t>0?"":"属性",key:t},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{span:8},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(V,{modelValue:e.key,"onUpdate:modelValue":function(t){return e.key=t},modelModifiers:{trim:!0},placeholder:"Key"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(o["createVNode"])(v,{offset:1,span:8},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(V,{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},modelModifiers:{trim:!0},placeholder:"Value"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(o["createVNode"])(v,{offset:1,span:6},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(k,{type:"danger",size:"small",onClick:function(e){return h.removeDataSourceProperty(t)}},{default:Object(o["withCtx"])((function(){return[a]})),_:2},1032,["onClick"]),t+1==h.form.dataSource.properties.length?(Object(o["openBlock"])(),Object(o["createBlock"])(k,{key:0,type:"primary",size:"small",onClick:h.addDataSourceProperty},{default:Object(o["withCtx"])((function(){return[u]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:2},1024)]})),_:2},1032,["label"])})),128)),0==h.form.dataSource.properties.length?(Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:0,label:"属性"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(k,{type:"text",size:"small",onClick:h.addDataSourceProperty},{default:Object(o["withCtx"])((function(){return[l]})),_:1},8,["onClick"])]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(N,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,null,{default:Object(o["withCtx"])((function(){return[h.testConnectionState.isTest?(Object(o["openBlock"])(),Object(o["createBlock"])(k,{key:0,plain:"",circle:"",type:h.testConnectionState.buttonType,size:"small"},{default:Object(o["withCtx"])((function(){return[h.testConnectionState.success?(Object(o["openBlock"])(),Object(o["createBlock"])(T,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_)]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(T,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(R)]})),_:1}))]})),_:1},8,["type"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(k,{type:h.testConnectionState.buttonType,plain:"",size:"small",onClick:h.onTestConnection,loading:h.loading.testConnection},{default:Object(o["withCtx"])((function(){return[i]})),_:1},8,["type","onClick","loading"])]})),_:1}),h.testConnectionState.isTest&&!h.testConnectionState.success?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(B,{type:"danger",underline:!1},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(h.testConnectionState.message),1)]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(I,{label:"高级配置"},{default:Object(o["withCtx"])((function(){return[d,Object(o["createVNode"])(N,{label:"定时同步"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(P,{wrap:"",size:33},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(U,{modelValue:h.form.projectSyncRule.isAutoSync,"onUpdate:modelValue":t[7]||(t[7]=function(e){return h.form.projectSyncRule.isAutoSync=e})},null,8,["modelValue"]),h.form.projectSyncRule.isAutoSync?(Object(o["openBlock"])(),Object(o["createBlock"])(V,{key:0,modelValue:h.form.projectSyncRule.autoSyncCron,"onUpdate:modelValue":t[8]||(t[8]=function(e){return h.form.projectSyncRule.autoSyncCron=e}),placeholder:"CRON 表达式"},null,8,["modelValue"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(h.form.projectSyncRule.ignoreTableNameRegexes,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(N,{label:t>0?"":"忽略表名称（支持正则表达式）",key:t},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{span:6},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(V,{modelValue:h.form.projectSyncRule.ignoreTableNameRegexes[t],"onUpdate:modelValue":function(e){return h.form.projectSyncRule.ignoreTableNameRegexes[t]=e},placeholder:"name regex"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(o["createVNode"])(v,{span:6,offset:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(k,{type:"danger",size:"small",onClick:function(e){return h.removeIgnoreTableName(t)}},{default:Object(o["withCtx"])((function(){return[s]})),_:2},1032,["onClick"]),t+1==h.form.projectSyncRule.ignoreTableNameRegexes.length?(Object(o["openBlock"])(),Object(o["createBlock"])(k,{key:0,type:"primary",size:"small",onClick:h.addIgnoreTableName},{default:Object(o["withCtx"])((function(){return[f]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:2},1024)]})),_:2},1032,["label"])})),128)),0==h.form.projectSyncRule.ignoreTableNameRegexes.length?(Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:0,label:"忽略表名称（支持正则表达式）"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(k,{type:"text",size:"small",onClick:h.addIgnoreTableName},{default:Object(o["withCtx"])((function(){return[b]})),_:1},8,["onClick"])]})),_:1})):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(h.form.projectSyncRule.ignoreColumnNameRegexes,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(N,{label:t>0?"":"忽略列名称（支持正则表达式）",key:t},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{span:6},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(V,{modelValue:h.form.projectSyncRule.ignoreColumnNameRegexes[t],"onUpdate:modelValue":function(e){return h.form.projectSyncRule.ignoreColumnNameRegexes[t]=e},placeholder:"name regex"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(o["createVNode"])(v,{span:6,offset:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(k,{type:"danger",size:"small",onClick:function(e){return h.removeIgnoreColumnName(t)}},{default:Object(o["withCtx"])((function(){return[p]})),_:2},1032,["onClick"]),t+1==h.form.projectSyncRule.ignoreColumnNameRegexes.length?(Object(o["openBlock"])(),Object(o["createBlock"])(k,{key:0,type:"primary",size:"small",onClick:h.addIgnoreColumnName},{default:Object(o["withCtx"])((function(){return[m]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:2},1024)]})),_:2},1032,["label"])})),128)),0==h.form.projectSyncRule.ignoreColumnNameRegexes.length?(Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:1,label:"忽略列名称（支持正则表达式）"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(k,{type:"text",size:"small",onClick:h.addIgnoreColumnName},{default:Object(o["withCtx"])((function(){return[j]})),_:1},8,["onClick"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(N,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(E,{"content-position":"center"}),Object(o["createVNode"])(k,{type:"primary",onClick:h.onSubmit},{default:Object(o["withCtx"])((function(){return[O]})),_:1},8,["onClick"]),Object(o["createVNode"])(k,{onClick:h.onCancel},{default:Object(o["withCtx"])((function(){return[C]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1})]})),_:1})}var y=n("1da1"),g=(n("96cf"),n("a434"),n("d3b7"),n("6c02")),V=n("d8e8"),N=n("3ef4"),v=n("0db5"),w=n("b66b"),x={components:{},setup:function(){var e=Object(g["d"])(),t=Object(g["c"])(),n=Object(o["reactive"])({id:null,name:null,description:null,groupId:null,dataSource:{username:null,databaseType:null,databaseName:null,password:null,url:null,properties:[]},projectSyncRule:{isAutoSync:!1,autoSyncCron:null,ignoreTableNameRegexes:[],ignoreColumnNameRegexes:[]}}),r=Object(o["reactive"])({testConnection:!1}),c=Object(o["reactive"])({buttonType:"primary",isTest:!1,success:!1,message:null});Object(o["watch"])((function(){return n.dataSource}),(function(){c.isTest=!1,c.buttonType="primary"}),{deep:!0}),Object(o["onMounted"])(Object(y["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:e.isReady().then(Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.params.projectId?(n.id=t.params.projectId,Object(v["c"])(t.params.projectId).then((function(e){var t=e.data;n.name=t.name,n.groupId=t.groupId,n.description=t.description,n.dataSource=t.dataSource,n.projectSyncRule=t.projectSyncRule}))):n.groupId=t.params.groupId;case 1:case"end":return e.stop()}}),e)}))));case 1:case"end":return o.stop()}}),o)}))));var a=function(e){return{required:!0,message:e,trigger:"blur"}},u=Object(o["reactive"])({name:[a("名称不能为空")],description:[a("说明不能为空")],dataSource:{username:[a("数据库用户名不能为空")],url:[a("数据库连接地址不能为空")],databaseName:[a("数据库名称不能为空")],databaseType:[{required:!0,message:"请选择数据库类型",trigger:"change"}]}}),l=Object(o["ref"])(V["a"]),i=function(){l.value.validate((function(o){return o?n.id||n.dataSource.password?void Object(v["a"])(n).then((function(n){return n.errCode||(d("保存成功","success",(function(){return e.push({path:"/groups/"+t.params.groupId})})),e.push({path:"/groups/"+t.params.groupId})),!0})):(d("请填写数据库连接密码","error"),!1):(d("请填写表单必填项","error"),!1)}))},d=function(e,t,n){Object(N["a"])({showClose:!0,message:e,type:t,duration:1800,onClose:n})},s=function(){e.push({path:"/groups/"+t.params.groupId})},f=function(){n.dataSource.properties.push({key:"",value:""})},b=function(e){n.dataSource.properties.splice(e,1)},p=function(){n.projectSyncRule.ignoreTableNameRegexes.push("")},m=function(e){n.projectSyncRule.ignoreTableNameRegexes.splice(e,1)},j=function(){n.projectSyncRule.ignoreColumnNameRegexes.push("")},O=function(e){n.projectSyncRule.ignoreColumnNameRegexes.splice(e,1)},C=function(){r.testConnection=!0,l.value.validate((function(e){if(!e)return d("请填写表单必填项","error"),!1;if(!n.id&&!n.dataSource.password)return d("请填写数据库连接密码","error"),!1;var t={projectId:n.id,databaseType:n.dataSource.databaseType,databaseName:n.dataSource.databaseName,username:n.dataSource.username,password:n.dataSource.password,url:n.dataSource.url,properties:n.dataSource.properties};Object(v["e"])(t).then((function(e){e.errCode?(c.success=!1,c.buttonType="danger"):(c.success=!0,c.buttonType="success",d("连接成功","success")),c.isTest=!0,c.message=e.errMessage})).finally((function(){return r.testConnection=!1}))}))};return{form:n,loading:r,testConnectionState:c,formRules:u,databaseTypes:w["a"],ruleFormRef:l,onSubmit:i,onCancel:s,addDataSourceProperty:f,removeDataSourceProperty:b,addIgnoreTableName:p,removeIgnoreTableName:m,addIgnoreColumnName:j,removeIgnoreColumnName:O,onTestConnection:C}}},S=n("6b0d"),k=n.n(S);const _=k()(x,[["render",h]]);t["default"]=_}}]);
//# sourceMappingURL=chunk-9622a6d8.d116da54.js.map