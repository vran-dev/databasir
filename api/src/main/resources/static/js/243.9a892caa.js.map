{"version":3,"file":"js/243.9a892caa.js","mappings":"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","sources":["webpack://databasir-frontend/./src/views/SysEmailEdit.vue","webpack://databasir-frontend/./src/api/System.js","webpack://databasir-frontend/./src/views/SysEmailEdit.vue?6c44"],"sourcesContent":["<template>\r\n    <el-container>\r\n        <el-main>\r\n            <el-card>\r\n                <el-form :model=\"form\" label-position=\"top\" :rules=\"formRule\" ref=\"formRef\" style=\"max-width: 900px\">\r\n                    <el-form-item label=\"邮箱账号\"  prop=\"username\">\r\n                        <el-input v-model=\"form.username\"></el-input>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"邮箱密码\" prop=\"password\">\r\n                        <el-input\r\n                            v-model=\"form.password\"\r\n                            type=\"password\"\r\n                            placeholder=\"请输入密码\"\r\n                            show-password\r\n                        />\r\n                    </el-form-item>\r\n                    \r\n                    <el-form-item label=\"SMTP\" prop=\"smtpHost\">\r\n                        <el-col :span=\"12\">\r\n                            <el-input v-model=\"form.smtpHost\" placeholder=\"SMTP Host\"/>\r\n                        </el-col>\r\n                        <el-col :span=\"1\" style=\"text-align:center\">\r\n                            :\r\n                        </el-col>\r\n                        <el-col :span=\"6\">\r\n                            <el-input v-model=\"form.smtpPort\" placeholder=\"SMTP Port\" />\r\n                        </el-col>                                                                                                                                                                                                    \r\n                    </el-form-item>\r\n\r\n                    <el-form-item style=\"margin-top:38px\">\r\n                        <el-button type=\"primary\" @click=\"onSubmit('formRef')\">保存</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-card>\r\n        </el-main>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\nimport { getEmailSetting, updateEmailSetting } from \"../api/System\"\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            form: {\r\n                smtpHost: null,\r\n                smtpPort: null,\r\n                username: null,\r\n                password: null\r\n            },\r\n            formRule: {\r\n                username: [this.requiredInputValidRule('请输入邮箱账号'), { type: 'email', message: '邮箱格式不正确', trigger: 'blur' }],\r\n                password: [this.requiredInputValidRule('请输入邮箱密码')],\r\n                smtpHost: [this.requiredInputValidRule('请输入 SMTP 地址')],\r\n                smtpPort: [this.requiredInputValidRule('请输入 SMTP 端口'), { min: 1, max: 65535, message: '端口有效值为 1~65535', trigger: 'blur' }],\r\n            }\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.fetchSysMail()\r\n    },\r\n\r\n    methods: {\r\n        requiredInputValidRule(message) {\r\n            return {\r\n                required: true,\r\n                message: message,\r\n                trigger: 'blur',\r\n            }\r\n        },\r\n        async fetchSysMail() {\r\n            const data = await getEmailSetting().then(resp => resp.data)\r\n            if(data) {\r\n                this.form = data\r\n            }\r\n        },\r\n\r\n        onSubmit() {\r\n            this.$refs.formRef.validate((valid) => {\r\n                if (valid) {\r\n                    updateEmailSetting(this.form).then(resp => {\r\n                        if (!resp.errCode) {\r\n                            this.$message.success('更新成功')\r\n                        }\r\n                    })\r\n                    return true\r\n                } else {\r\n                    this.$message.error('请完善表单相关信息！')\r\n                    return false\r\n                }\r\n            })\r\n            \r\n        }\r\n    }\r\n}\r\n\r\n</script>","import axios from '@/utils/fetch';\r\n\r\nconst base = '/api/v1.0/settings'\r\n\r\nexport const getEmailSetting = () => {\r\n    return axios.get(base+\"/sys_email\")\r\n}\r\n\r\nexport const updateEmailSetting = (request) => {\r\n    return axios.post(base+\"/sys_email\", request);\r\n}","import { render } from \"./SysEmailEdit.vue?vue&type=template&id=7224a845\"\nimport script from \"./SysEmailEdit.vue?vue&type=script&lang=js\"\nexport * from \"./SysEmailEdit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\git_workspace\\\\databasir-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_el_container","_createVNode","_component_el_main","_component_el_card","_component_el_form","model","$data","rules","ref","style","_component_el_form_item","label","prop","_component_el_input","username","$event","password","type","placeholder","_component_el_col","span","smtpHost","smtpPort","_component_el_button","onClick","$options","base","getEmailSetting","axios","updateEmailSetting","request","data","form","formRule","this","requiredInputValidRule","message","trigger","min","max","mounted","fetchSysMail","methods","required","async","then","resp","onSubmit","$refs","formRef","validate","valid","errCode","$message","success","error","__exports__","render"],"sourceRoot":""}