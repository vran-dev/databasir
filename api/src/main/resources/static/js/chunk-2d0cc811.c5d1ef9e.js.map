{"version":3,"sources":["webpack:///./src/views/SysEmailEdit.vue","webpack:///./src/api/System.js","webpack:///./src/views/SysEmailEdit.vue?eca7"],"names":["model","form","label-position","rules","formRule","ref","style","label","prop","username","password","type","placeholder","show-password","span","smtpHost","smtpPort","onSubmit","base","getEmailSetting","axios","get","updateEmailSetting","request","post","data","this","requiredInputValidRule","message","trigger","min","max","mounted","fetchSysMail","methods","required","then","resp","$refs","formRef","validate","valid","errCode","$message","success","error","__exports__","render"],"mappings":"wKAsBoE,O,+BASW,M,gaA9B3E,yBAmCe,Q,8BAlCX,iBAiCU,CAjCV,yBAiCU,Q,8BAhCN,iBA+BU,CA/BV,yBA+BU,Q,8BA9BN,iBA6BU,CA7BV,yBA6BU,GA7BAA,MAAO,EAAAC,KAAMC,iBAAe,MAAOC,MAAO,EAAAC,SAAUC,IAAI,UAAUC,MAAA,uB,+BACxE,iBAEe,CAFf,yBAEe,GAFDC,MAAM,OAAQC,KAAK,Y,+BAC7B,iBAA6C,CAA7C,yBAA6C,G,WAA1B,EAAAP,KAAKQ,S,qDAAL,EAAAR,KAAKQ,SAAQ,K,iCAGpC,yBAOe,GAPDF,MAAM,OAAOC,KAAK,Y,+BAC5B,iBAKE,CALF,yBAKE,G,WAJW,EAAAP,KAAKS,S,qDAAL,EAAAT,KAAKS,SAAQ,IACtBC,KAAK,WACLC,YAAY,QACZC,gBAAA,I,iCAIR,yBAUe,GAVDN,MAAM,OAAOC,KAAK,Y,+BAC5B,iBAES,CAFT,yBAES,GAFAM,KAAM,IAAE,C,8BACb,iBAA2D,CAA3D,yBAA2D,G,WAAxC,EAAAb,KAAKc,S,qDAAL,EAAAd,KAAKc,SAAQ,IAAEH,YAAY,a,iCAElD,yBAES,GAFAE,KAAM,EAAGR,MAAA,yB,+BAA0B,iBAE5C,C,YACA,yBAES,GAFAQ,KAAM,GAAC,C,8BACZ,iBAA4D,CAA5D,yBAA4D,G,WAAzC,EAAAb,KAAKe,S,qDAAL,EAAAf,KAAKe,SAAQ,IAAEJ,YAAY,a,2CAItD,yBAEe,GAFDN,MAAA,uBAAuB,C,8BACjC,iBAAqE,CAArE,yBAAqE,GAA1DK,KAAK,UAAW,QAAK,+BAAE,EAAAM,SAAQ,c,+BAAa,iBAAE,C,0HC7B3EC,EAAO,qBAEAC,EAAkB,WAC3B,OAAOC,OAAMC,IAAIH,EAAK,eAGbI,EAAqB,SAACC,GAC/B,OAAOH,OAAMI,KAAKN,EAAK,aAAcK,IDiC1B,GACXE,KADW,WAEP,MAAO,CACHxB,KAAM,CACFc,SAAU,KACVC,SAAU,KACVP,SAAU,KACVC,SAAU,MAEdN,SAAU,CACNK,SAAU,CAACiB,KAAKC,uBAAuB,WAAY,CAAEhB,KAAM,QAASiB,QAAS,UAAWC,QAAS,SACjGnB,SAAU,CAACgB,KAAKC,uBAAuB,YACvCZ,SAAU,CAACW,KAAKC,uBAAuB,gBACvCX,SAAU,CAACU,KAAKC,uBAAuB,eAAgB,CAAEG,IAAK,EAAGC,IAAK,MAAOH,QAAS,iBAAkBC,QAAS,YAK7HG,QAlBW,WAmBPN,KAAKO,gBAGTC,QAAS,CACLP,uBADK,SACkBC,GACnB,MAAO,CACHO,UAAU,EACVP,QAASA,EACTC,QAAS,SAGXI,aARD,WAQgB,8KACE,IAAkBG,MAAK,SAAAC,GAAG,OAAKA,EAAKZ,QADtC,OACXA,EADW,OAEdA,IACC,EAAKxB,KAAOwB,GAHC,8CAOrBR,SAfK,WAeM,WACPS,KAAKY,MAAMC,QAAQC,UAAS,SAACC,GACzB,OAAIA,GACA,EAAmB,EAAKxC,MAAMmC,MAAK,SAAAC,GAC1BA,EAAKK,SACN,EAAKC,SAASC,QAAQ,YAGvB,IAEP,EAAKD,SAASE,MAAM,eACb,S,qBErF3B,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0cc811.c5d1ef9e.js","sourcesContent":["<template>\r\n    <el-container>\r\n        <el-main>\r\n            <el-card>\r\n                <el-form :model=\"form\" label-position=\"top\" :rules=\"formRule\" ref=\"formRef\" style=\"max-width: 900px\">\r\n                    <el-form-item label=\"邮箱账号\"  prop=\"username\">\r\n                        <el-input v-model=\"form.username\"></el-input>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"邮箱密码\" prop=\"password\">\r\n                        <el-input\r\n                            v-model=\"form.password\"\r\n                            type=\"password\"\r\n                            placeholder=\"请输入密码\"\r\n                            show-password\r\n                        />\r\n                    </el-form-item>\r\n                    \r\n                    <el-form-item label=\"SMTP\" prop=\"smtpHost\">\r\n                        <el-col :span=\"12\">\r\n                            <el-input v-model=\"form.smtpHost\" placeholder=\"SMTP Host\"/>\r\n                        </el-col>\r\n                        <el-col :span=\"1\" style=\"text-align:center\">\r\n                            :\r\n                        </el-col>\r\n                        <el-col :span=\"6\">\r\n                            <el-input v-model=\"form.smtpPort\" placeholder=\"SMTP Port\" />\r\n                        </el-col>                                                                                                                                                                                                    \r\n                    </el-form-item>\r\n\r\n                    <el-form-item style=\"margin-top:38px\">\r\n                        <el-button type=\"primary\" @click=\"onSubmit('formRef')\">保存</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-card>\r\n        </el-main>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\nimport { getEmailSetting, updateEmailSetting } from \"../api/System\"\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            form: {\r\n                smtpHost: null,\r\n                smtpPort: null,\r\n                username: null,\r\n                password: null\r\n            },\r\n            formRule: {\r\n                username: [this.requiredInputValidRule('请输入邮箱账号'), { type: 'email', message: '邮箱格式不正确', trigger: 'blur' }],\r\n                password: [this.requiredInputValidRule('请输入邮箱密码')],\r\n                smtpHost: [this.requiredInputValidRule('请输入 SMTP 地址')],\r\n                smtpPort: [this.requiredInputValidRule('请输入 SMTP 端口'), { min: 1, max: 65535, message: '端口有效值为 1~65535', trigger: 'blur' }],\r\n            }\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.fetchSysMail()\r\n    },\r\n\r\n    methods: {\r\n        requiredInputValidRule(message) {\r\n            return {\r\n                required: true,\r\n                message: message,\r\n                trigger: 'blur',\r\n            }\r\n        },\r\n        async fetchSysMail() {\r\n            const data = await getEmailSetting().then(resp => resp.data)\r\n            if(data) {\r\n                this.form = data\r\n            }\r\n        },\r\n\r\n        onSubmit() {\r\n            this.$refs.formRef.validate((valid) => {\r\n                if (valid) {\r\n                    updateEmailSetting(this.form).then(resp => {\r\n                        if (!resp.errCode) {\r\n                            this.$message.success('更新成功')\r\n                        }\r\n                    })\r\n                    return true\r\n                } else {\r\n                    this.$message.error('请完善表单相关信息！')\r\n                    return false\r\n                }\r\n            })\r\n            \r\n        }\r\n    }\r\n}\r\n\r\n</script>","import axios from '@/utils/fetch';\r\n\r\nconst base = '/api/v1.0/settings'\r\n\r\nexport const getEmailSetting = () => {\r\n    return axios.get(base+\"/sys_email\")\r\n}\r\n\r\nexport const updateEmailSetting = (request) => {\r\n    return axios.post(base+\"/sys_email\", request);\r\n}","import { render } from \"./SysEmailEdit.vue?vue&type=template&id=7224a845\"\nimport script from \"./SysEmailEdit.vue?vue&type=script&lang=js\"\nexport * from \"./SysEmailEdit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\git_workspace\\\\databasir-frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}