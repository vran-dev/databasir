(self["webpackChunkdatabasir"]=self["webpackChunkdatabasir"]||[]).push([[668],{1589:function(e,t,r){var n=r(7854),a=r(1400),o=r(6244),u=r(6135),i=n.Array,l=Math.max;e.exports=function(e,t,r){for(var n=o(e),c=a(t,n),s=a(void 0===r?n:r,n),d=i(l(s-c,0)),f=0;c<s;c++,f++)u(d,f,e[c]);return d.length=f,d}},6135:function(e,t,r){"use strict";var n=r(4948),a=r(3070),o=r(9114);e.exports=function(e,t,r){var u=n(t);u in e?a.f(e,u,o(0,r)):e[u]=r}},7235:function(e,t,r){var n=r(857),a=r(2597),o=r(6061),u=r(3070).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});a(t,e)||u(t,e,{value:o.f(e)})}},1156:function(e,t,r){var n=r(4326),a=r(5656),o=r(8006).f,u=r(1589),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return o(e)}catch(t){return u(i)}};e.exports.f=function(e){return i&&"Window"==n(e)?l(e):o(a(e))}},857:function(e,t,r){var n=r(7854);e.exports=n},6061:function(e,t,r){var n=r(5112);t.f=n},1817:function(e,t,r){"use strict";var n=r(2109),a=r(9781),o=r(7854),u=r(1702),i=r(2597),l=r(614),c=r(7976),s=r(1340),d=r(3070).f,f=r(9920),p=o.Symbol,m=p&&p.prototype;if(a&&l(p)&&(!("description"in m)||void 0!==p().description)){var b={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),t=c(m,this)?new p(e):void 0===e?p():p(e);return""===e&&(b[t]=!0),t};f(g,p),g.prototype=m,m.constructor=g;var y="Symbol(test)"==String(p("test")),w=u(m.toString),h=u(m.valueOf),v=/^Symbol\((.*)\)[^)]+$/,W=u("".replace),_=u("".slice);d(m,"description",{configurable:!0,get:function(){var e=h(this),t=w(e);if(i(b,e))return"";var r=y?_(t,7,-1):W(t,v,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:g})}},2526:function(e,t,r){"use strict";var n=r(2109),a=r(7854),o=r(5005),u=r(2104),i=r(6916),l=r(1702),c=r(1913),s=r(9781),d=r(133),f=r(7293),p=r(2597),m=r(3157),b=r(614),g=r(111),y=r(7976),w=r(2190),h=r(9670),v=r(7908),W=r(5656),_=r(4948),D=r(1340),j=r(9114),F=r(30),T=r(1956),C=r(8006),P=r(1156),U=r(5181),S=r(1236),k=r(3070),V=r(5296),O=r(206),x=r(1320),z=r(2309),N=r(6200),E=r(3501),q=r(9711),R=r(5112),Z=r(6061),$=r(7235),J=r(8003),B=r(9909),Q=r(2092).forEach,A=N("hidden"),L="Symbol",I="prototype",H=R("toPrimitive"),K=B.set,M=B.getterFor(L),Y=Object[I],G=a.Symbol,X=G&&G[I],ee=a.TypeError,te=a.QObject,re=o("JSON","stringify"),ne=S.f,ae=k.f,oe=P.f,ue=V.f,ie=l([].push),le=z("symbols"),ce=z("op-symbols"),se=z("string-to-symbol-registry"),de=z("symbol-to-string-registry"),fe=z("wks"),pe=!te||!te[I]||!te[I].findChild,me=s&&f((function(){return 7!=F(ae({},"a",{get:function(){return ae(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=ne(Y,t);n&&delete Y[t],ae(e,t,r),n&&e!==Y&&ae(Y,t,n)}:ae,be=function(e,t){var r=le[e]=F(X);return K(r,{type:L,tag:e,description:t}),s||(r.description=t),r},ge=function(e,t,r){e===Y&&ge(ce,t,r),h(e);var n=_(t);return h(r),p(le,n)?(r.enumerable?(p(e,A)&&e[A][n]&&(e[A][n]=!1),r=F(r,{enumerable:j(0,!1)})):(p(e,A)||ae(e,A,j(1,{})),e[A][n]=!0),me(e,n,r)):ae(e,n,r)},ye=function(e,t){h(e);var r=W(t),n=T(r).concat(_e(r));return Q(n,(function(t){s&&!i(he,r,t)||ge(e,t,r[t])})),e},we=function(e,t){return void 0===t?F(e):ye(F(e),t)},he=function(e){var t=_(e),r=i(ue,this,t);return!(this===Y&&p(le,t)&&!p(ce,t))&&(!(r||!p(this,t)||!p(le,t)||p(this,A)&&this[A][t])||r)},ve=function(e,t){var r=W(e),n=_(t);if(r!==Y||!p(le,n)||p(ce,n)){var a=ne(r,n);return!a||!p(le,n)||p(r,A)&&r[A][n]||(a.enumerable=!0),a}},We=function(e){var t=oe(W(e)),r=[];return Q(t,(function(e){p(le,e)||p(E,e)||ie(r,e)})),r},_e=function(e){var t=e===Y,r=oe(t?ce:W(e)),n=[];return Q(r,(function(e){!p(le,e)||t&&!p(Y,e)||ie(n,le[e])})),n};if(d||(G=function(){if(y(X,this))throw ee("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?D(arguments[0]):void 0,t=q(e),r=function(e){this===Y&&i(r,ce,e),p(this,A)&&p(this[A],t)&&(this[A][t]=!1),me(this,t,j(1,e))};return s&&pe&&me(Y,t,{configurable:!0,set:r}),be(t,e)},X=G[I],x(X,"toString",(function(){return M(this).tag})),x(G,"withoutSetter",(function(e){return be(q(e),e)})),V.f=he,k.f=ge,S.f=ve,C.f=P.f=We,U.f=_e,Z.f=function(e){return be(R(e),e)},s&&(ae(X,"description",{configurable:!0,get:function(){return M(this).description}}),c||x(Y,"propertyIsEnumerable",he,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:G}),Q(T(fe),(function(e){$(e)})),n({target:L,stat:!0,forced:!d},{for:function(e){var t=D(e);if(p(se,t))return se[t];var r=G(t);return se[t]=r,de[r]=t,r},keyFor:function(e){if(!w(e))throw ee(e+" is not a symbol");if(p(de,e))return de[e]},useSetter:function(){pe=!0},useSimple:function(){pe=!1}}),n({target:"Object",stat:!0,forced:!d,sham:!s},{create:we,defineProperty:ge,defineProperties:ye,getOwnPropertyDescriptor:ve}),n({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:We,getOwnPropertySymbols:_e}),n({target:"Object",stat:!0,forced:f((function(){U.f(1)}))},{getOwnPropertySymbols:function(e){return U.f(v(e))}}),re){var De=!d||f((function(){var e=G();return"[null]"!=re([e])||"{}"!=re({a:e})||"{}"!=re(Object(e))}));n({target:"JSON",stat:!0,forced:De},{stringify:function(e,t,r){var n=O(arguments),a=t;if((g(t)||void 0!==e)&&!w(e))return m(t)||(t=function(e,t){if(b(a)&&(t=i(a,this,e,t)),!w(t))return t}),n[1]=t,u(re,null,n)}})}if(!X[H]){var je=X.valueOf;x(X,H,(function(e){return i(je,this)}))}J(G,L),E[A]=!0},6299:function(e,t,r){"use strict";r.d(t,{ew:function(){return u},wu:function(){return i},r6:function(){return l},ns:function(){return c},OE:function(){return s},Zu:function(){return d}});var n=r(3872),a="/api/v1.0/database_types",o="/api/v1.0/simple_database_types",u=function(e){return n.Z["delete"](a+"/"+e)},i=function(e){return n.Z.post(a,e)},l=function(e){return n.Z.patch(a,e)},c=function(){return n.Z.get(o)},s=function(e){return n.Z.get(a,{params:e})},d=function(e){return n.Z.post(a+"/driver_class_name",e)}},668:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});r(2526),r(1817),r(8309);var n=r(6252),a=r(3577),o=(0,n.Uk)("+"),u=["src"],i=(0,n.Uk)("编辑"),l=(0,n.Uk)("删除"),c=(0,n.Uk)("自动获取"),s=(0,n._)("span",null,"内置变量：",-1),d=(0,n.Uk)(" 结果示例："),f=(0,n.Uk)("保存"),p=(0,n.Uk)("取消");function m(e,t,r,m,b,g){var y=(0,n.up)("el-button"),w=(0,n.up)("el-tooltip"),h=(0,n.up)("el-input"),v=(0,n.up)("el-space"),W=(0,n.up)("el-header"),_=(0,n.up)("el-table-column"),D=(0,n.up)("el-link"),j=(0,n.up)("el-tag"),F=(0,n.up)("el-table"),T=(0,n.up)("el-form-item"),C=(0,n.up)("el-col"),P=(0,n.up)("el-row"),U=(0,n.up)("el-form"),S=(0,n.up)("el-dialog"),k=(0,n.up)("el-main"),V=(0,n.up)("el-pagination"),O=(0,n.up)("el-footer"),x=(0,n.up)("el-container"),z=(0,n.Q2)("loading");return(0,n.wg)(),(0,n.j4)(x,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(W,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(v,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(w,{content:"创建"},{default:(0,n.w5)((function(){return[(0,n.Wm)(y,{type:"primary",style:{"min-width":"100px"},onClick:t[0]||(t[0]=function(e){return g.toEditPage()})},{default:(0,n.w5)((function(){return[o]})),_:1})]})),_:1}),(0,n.Wm)(h,{onChange:g.onQuery,modelValue:b.pageFilter.databaseTypeContains,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b.pageFilter.databaseTypeContains=e}),placeholder:"数据库类型名称搜索","prefix-icon":"search"},null,8,["onChange","modelValue"])]})),_:1})]})),_:1}),(0,n.Wm)(k,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(F,{data:b.pageData.data,border:"",stripe:""},{default:(0,n.w5)((function(){return[(0,n.Wm)(_,{prop:"id",label:"ID",width:"50"}),(0,n.Wm)(_,{prop:"databaseType",label:"数据库类型",resizable:""},{default:(0,n.w5)((function(e){return[(0,n.Uk)((0,a.zw)(e.row.databaseType),1)]})),_:1}),(0,n.Wm)(_,{prop:"icon",label:"图标"},{default:(0,n.w5)((function(e){return[(0,n._)("img",{src:e.row.icon,style:{"max-width":"25px","max-height":"25px"}},null,8,u)]})),_:1}),(0,n.Wm)(_,{prop:"description",label:"描述",resizable:""}),(0,n.Wm)(_,{prop:"jdbcDriverFileUrl",label:"驱动下载地址"},{default:(0,n.w5)((function(e){return[(0,n.Wm)(D,{underline:!1},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,a.zw)(e.row.jdbcDriverFileUrl),1)]})),_:2},1024)]})),_:1}),(0,n.Wm)(_,{prop:"jdbcDriverClassName",label:"驱动类名",resizable:""}),(0,n.Wm)(_,{label:"协议头"},{default:(0,n.w5)((function(e){return[(0,n.Wm)(j,{size:"large"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,a.zw)(e.row.jdbcProtocol),1)]})),_:2},1024)]})),_:1}),(0,n.Wm)(_,{prop:"projectCount",label:"引用项目数",width:"100"}),(0,n.Wm)(_,{prop:"urlPattern",label:"URL 表达式",resizable:""},{default:(0,n.w5)((function(e){return[(0,n.Wm)(w,{content:g.tableUrlSample(e.row)},{default:(0,n.w5)((function(){return[(0,n.Wm)(D,{underline:!1,type:"success"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,a.zw)(e.row.urlPattern),1)]})),_:2},1024)]})),_:2},1032,["content"])]})),_:1}),(0,n.Wm)(_,{prop:"updateAt",label:"更新时间"}),(0,n.Wm)(_,{prop:"createAt",label:"创建时间"}),(0,n.Wm)(_,{label:"操作",resizable:"",fixed:"right"},{default:(0,n.w5)((function(e){return[(0,n.Wm)(v,{alignment:"left",direction:"vertical"},{default:(0,n.w5)((function(){return[(0,n.Wm)(y,{type:"primary",size:"small",icon:"Edit",onClick:function(t){return g.toEditPage(e.row)}},{default:(0,n.w5)((function(){return[i]})),_:2},1032,["onClick"]),(0,n.Wm)(y,{type:"danger",size:"small",icon:"Delete",onClick:function(t){return g.onDelete(e.row)}},{default:(0,n.w5)((function(){return[l]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:1})]})),_:1},8,["data"]),(0,n.Wm)(S,{modelValue:b.isShowEditDialog,"onUpdate:modelValue":t[12]||(t[12]=function(e){return b.isShowEditDialog=e}),width:"38%",center:"","destroy-on-close":""},{default:(0,n.w5)((function(){return[(0,n.Wm)(U,{model:b.databaseTypeForm,rules:b.formDataRule,ref:"formDataRef","label-position":"top"},{default:(0,n.w5)((function(){return[(0,n.Wm)(P,{gutter:28},{default:(0,n.w5)((function(){return[(0,n.Wm)(C,{span:10},{default:(0,n.w5)((function(){return[(0,n.Wm)(T,{label:"数据库类型",prop:"databaseType"},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{modelValue:b.databaseTypeForm.databaseType,"onUpdate:modelValue":t[2]||(t[2]=function(e){return b.databaseTypeForm.databaseType=e}),placeholder:"请输入数据库类型名称"},null,8,["modelValue"])]})),_:1})]})),_:1}),(0,n.Wm)(C,{span:10},{default:(0,n.w5)((function(){return[(0,n.Wm)(T,{label:"图标地址",prop:"icon"},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{modelValue:b.databaseTypeForm.icon,"onUpdate:modelValue":t[3]||(t[3]=function(e){return b.databaseTypeForm.icon=e}),placeholder:"图标地址"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),(0,n.Wm)(P,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(C,{span:20},{default:(0,n.w5)((function(){return[(0,n.Wm)(T,{label:"描述",prop:"description"},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{modelValue:b.databaseTypeForm.description,"onUpdate:modelValue":t[4]||(t[4]=function(e){return b.databaseTypeForm.description=e}),type:"textarea"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),(0,n.Wm)(P,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(C,{span:20},{default:(0,n.w5)((function(){return[(0,n.Wm)(T,{label:"JDBC 驱动下载地址",prop:"jdbcDriverFileUrl"},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{modelValue:b.databaseTypeForm.jdbcDriverFileUrl,"onUpdate:modelValue":t[5]||(t[5]=function(e){return b.databaseTypeForm.jdbcDriverFileUrl=e}),placeholder:"jdbc 驱动下载地址，如 https://repo1.maven.org/maven2/mysql/mysql-connector-java/8.0.28/mysql-connector-java-8.0.28.jar"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),(0,n.Wm)(P,{gutter:28},{default:(0,n.w5)((function(){return[(0,n.Wm)(C,{span:10},{default:(0,n.w5)((function(){return[(0,n.Wm)(T,{label:"驱动类名",prop:"jdbcDriverClassName"},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{modelValue:b.databaseTypeForm.jdbcDriverClassName,"onUpdate:modelValue":t[7]||(t[7]=function(e){return b.databaseTypeForm.jdbcDriverClassName=e}),placeholder:"jdbc 驱动类名，如 com.mysql.jdbc.Driver"},{append:(0,n.w5)((function(){return[(0,n.wy)(((0,n.wg)(),(0,n.j4)(D,{type:"primary",onClick:t[6]||(t[6]=function(e){return g.autoObtainDriverClassName()})},{default:(0,n.w5)((function(){return[c]})),_:1})),[[z,b.loadingClassName]])]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),(0,n.Wm)(C,{span:10},{default:(0,n.w5)((function(){return[(0,n.Wm)(T,{label:"协议头",prop:"jdbcProtocol"},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{modelValue:b.databaseTypeForm.jdbcProtocol,"onUpdate:modelValue":t[8]||(t[8]=function(e){return b.databaseTypeForm.jdbcProtocol=e}),placeholder:"协议头，如 jdbc:mysql，jdbc:postgresql，jdbc:mariadb 等"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),(0,n.Wm)(P,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(C,{span:20},{default:(0,n.w5)((function(){return[(0,n.Wm)(T,{label:"URL 生成表达式",prop:"urlPattern"},{default:(0,n.w5)((function(){return[(0,n.Wm)(C,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{modelValue:b.databaseTypeForm.urlPattern,"onUpdate:modelValue":t[9]||(t[9]=function(e){return b.databaseTypeForm.urlPattern=e}),placeholder:"支持变量 {{jdbc.protocol}}, {{db.url}}, {{db.name}}"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),(0,n.Wm)(C,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(v,null,{default:(0,n.w5)((function(){return[s,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(b.constData.availableVariables,(function(e,t){return(0,n.wg)(),(0,n.j4)(w,{key:t,content:e.description},{default:(0,n.w5)((function(){return[(0,n.Wm)(j,null,{default:(0,n.w5)((function(){return[(0,n.Uk)((0,a.zw)(e.name),1)]})),_:2},1024)]})),_:2},1032,["content"])})),128))]})),_:1})]})),_:1})]})),_:1}),(0,n.Wm)(P,{style:{"margin-top":"20px"}},{default:(0,n.w5)((function(){return[(0,n.Wm)(C,null,{default:(0,n.w5)((function(){return[d,(0,n.Wm)(D,{type:"success"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,a.zw)(g.urlSample),1)]})),_:1})]})),_:1})]})),_:1}),(0,n.Wm)(T,{style:{"margin-top":"33px"}},{default:(0,n.w5)((function(){return[(0,n.Wm)(y,{type:"primary",onClick:t[10]||(t[10]=function(e){return g.onFormSave("formDataRef")})},{default:(0,n.w5)((function(){return[f]})),_:1}),(0,n.Wm)(y,{onClick:t[11]||(t[11]=function(e){return b.isShowEditDialog=!1})},{default:(0,n.w5)((function(){return[p]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["modelValue"])]})),_:1}),(0,n.Wm)(O,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(V,{layout:"prev, pager, next","hide-on-single-page":!1,currentPage:b.pageData.number,"page-size":b.pageData.size,"page-count":b.pageData.totalPages,onCurrentChange:g.onPageChange},null,8,["currentPage","page-size","page-count","onCurrentChange"])]})),_:1})]})),_:1})}var b=r(8534),g=(r(5666),r(4916),r(5306),r(8862),r(1539),r(6299)),y={data:function(){return{databaseTypes:[],pageData:{data:[],page:0,number:1,size:15,totalElements:0,totalPages:1},pageFilter:{page:0,size:10,databaseTypeContains:null},databaseTypeForm:{id:null,databaseType:null,icon:null,description:null,jdbcDriverFileUrl:null,jdbcDriverClassName:null,jdbcProtocol:null,urlPattern:""},formDataRule:{databaseType:[{required:!0,message:"请输入数据库类型名称",trigger:"blur"}],description:[{required:!0,message:"请输入描述内容",trigger:"blur"}],jdbcDriverFileUrl:[{required:!0,message:"请输入合法的驱动下载地址",trigger:"blur"}],jdbcDriverClassName:[{required:!0,message:"请输入合法的驱动类名",trigger:"blur"}],jdbcProtocol:[{required:!0,message:"请输入合法的 JDBC 协议头",trigger:"blur"}],urlPattern:[{required:!0,message:"请输入合法的 URL 模式",trigger:"blur"}]},isShowEditDialog:!1,constData:{urlPattern:"{{jdbc.protocol}}://{{db.url}}/{{db.name}}",availableVariables:[{name:"{{jdbc.protocol}}",description:"协议头，如 jdbc:mysql"},{name:"{{db.name}}",description:"数据库名称，如 public"},{name:"{{db.url}}",description:"数据库地址，如 127.0.0.1:3306"},{name:"{{db.schema}}",description:"schema 名称，如 user"}]},loadingClassName:!1}},created:function(){this.fetchDatabaseTypes()},computed:{urlSample:function(){var e="127.0.0.1:3306",t="databasir",r="public",n=this.databaseTypeForm.jdbcProtocol?this.databaseTypeForm.jdbcProtocol:"jdbc:mysql";return this.databaseTypeForm.urlPattern.replace("{{jdbc.protocol}}",n).replace("{{db.name}}",t).replace("{{db.schema}}",r).replace("{{db.url}}",e)}},methods:{fetchDatabaseTypes:function(){var e=this;return(0,b.Z)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,g.OE)(e.pageFilter);case 2:r=t.sent,e.pageData.data=r.data.content,e.pageData.number=r.data.number+1,e.pageData.size=r.data.size,e.pageData.totalPages=r.data.totalPages,e.pageData.totalElements=r.data.totalElements;case 8:case"end":return t.stop()}}),t)})))()},onDelete:function(e){var t=this;this.$confirm("确认删除该数据库类型吗？这将导致数据同步失败","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){(0,g.ew)(e.id).then((function(e){e.errCode||(t.$message.success("删除成功"),t.onPageChange(1,!0))}))}))},onFormSave:function(){var e=this;this.$refs.formDataRef.validate((function(t){t?e.databaseTypeForm.id?e.onUpdate(e.databaseTypeForm):e.onCreate(e.databaseTypeForm):e.$message.error("请填写表单必填项")}))},onUpdate:function(){var e=this;(0,g.r6)(this.databaseTypeForm).then((function(t){t.errCode||(e.$message.success("更新成功"),e.isShowEditDialog=!1,e.fetchDatabaseTypes())}))},onCreate:function(){var e=this;(0,g.wu)(this.databaseTypeForm).then((function(t){t.errCode||(e.$message.success("创建成功"),e.isShowEditDialog=!1,e.onPageChange(1,!0))}))},onQuery:function(){this.fetchDatabaseTypes()},onPageChange:function(e,t){(e&&e-1!=this.pageFilter.page||t)&&(this.pageFilter.page=e-1,this.fetchDatabaseTypes())},toEditPage:function(e){e&&e.id?this.databaseTypeForm=JSON.parse(JSON.stringify(e)):(this.databaseTypeForm={},this.databaseTypeForm.urlPattern=this.constData.urlPattern),this.isShowEditDialog=!0},tableUrlSample:function(e){var t="127.0.0.1:3306",r="databasir";return e.urlPattern.replace("{{jdbc.protocol}}",e.jdbcProtocol).replace("{{db.name}}",r).replace("{{db.url}}",t)},autoObtainDriverClassName:function(){var e=this;if(this.databaseTypeForm.jdbcDriverFileUrl){this.loadingClassName=!0;var t={jdbcDriverFileUrl:this.databaseTypeForm.jdbcDriverFileUrl};(0,g.Zu)(t).then((function(t){t.errCode||(e.databaseTypeForm.jdbcDriverClassName=t.data,e.$message.success("获取成功"))})).finally((function(){e.loadingClassName=!1}))}else this.$message.warning("请求填写 JDBC 驱动下载地址")}}},w=r(3744);const h=(0,w.Z)(y,[["render",m]]);var v=h}}]);
//# sourceMappingURL=668-legacy.03c26a57.js.map